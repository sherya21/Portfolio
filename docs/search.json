[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Oregon Wildfire Study",
    "section": "",
    "text": "Wildfires, a phenomenon where an uncontrolled fire that burns in the wildland vegetation, has been a growing concern in the US in recent years. For our final project, we will be using machine learning techniques to explore instances of wildfires across Oregon, in the United States. As wildfires become increasingly common, it is crucial to equip policy-makers and first responders with tools to help better predict areas that are most likely to set ablaze across the State.\n\n\n\n\n\n\nThe National Interagency Fire Center statistics show that as of Dec. 7, 2023, there have been 53,685 fires this year that have burned nearly 2.61 million acres.\n\n\n\n\n\n Source"
  },
  {
    "objectID": "index.html#wildfires",
    "href": "index.html#wildfires",
    "title": "Oregon Wildfire Study",
    "section": "",
    "text": "Wildfires, a phenomenon where an uncontrolled fire that burns in the wildland vegetation, has been a growing concern in the US in recent years. For our final project, we will be using machine learning techniques to explore instances of wildfires across Oregon, in the United States. As wildfires become increasingly common, it is crucial to equip policy-makers and first responders with tools to help better predict areas that are most likely to set ablaze across the State.\n\n\n\n\n\n\nThe National Interagency Fire Center statistics show that as of Dec. 7, 2023, there have been 53,685 fires this year that have burned nearly 2.61 million acres.\n\n\n\n\n\n Source"
  },
  {
    "objectID": "index.html#project-scope",
    "href": "index.html#project-scope",
    "title": "Oregon Wildfire Study",
    "section": "Project scope",
    "text": "Project scope\nFor our final project, we explore instances of wildfires across the United States, focusing on Oregon as a case study. As wildfires become increasingly common, it is crucial to equip policy-makers and first responders with tools to help better predict areas that are most likely to set ablaze across the State."
  },
  {
    "objectID": "index.html#key-inquiries",
    "href": "index.html#key-inquiries",
    "title": "Oregon Wildfire Study",
    "section": "Key inquiries:",
    "text": "Key inquiries:\nOur report consists of five major pieces: Manipulation of multiple datasets, some that are rather large, with more than 1,000,000 rows. Complex analysis, including geospatial joining and data shaping of large datasets Temporally and spatially-sensitive analysis Data frame operations using ‘astropy’ and ‘datetime’ packages for data conversions. An interactive panel dashboard"
  },
  {
    "objectID": "index.html#methodology",
    "href": "index.html#methodology",
    "title": "Oregon Wildfire Study",
    "section": "Methodology",
    "text": "Methodology\nThe following analysis details an exploration of a spatial database that reports wildfires which burned in the US between 1992 and 2015. Detailing nearly 2 million wildfires, the data is publicly accessible from Kaggle and represents observations collected on the federal, state, and local level by fire and emergency organizations. In total, 140 million acres of burning were collected over the 24 year period. Assessing factors related to the spread of wildfires across Oregon is multifaceted, including geospatial and feature-related questions. Because of this, it will be crucial for us to utilise many of the packages and techniques discussed in class.\n\nData\nData is obtained from the following sources: 1. Kaggle fire dataset (1992-2015) 2. Riem measures data\nWildfire data: https://www.fs.usda.gov/rds/archive/Catalog/RDS-2013-0009.4/ Climate data: https://www.weather.gov/asos/#:~:text=The%20Automated%20Surface%20Observing%20Systems,primary%20surface%20weather%20observing%20network"
  },
  {
    "objectID": "index.html#find-out-more",
    "href": "index.html#find-out-more",
    "title": "Oregon Wildfire Study",
    "section": "Find out more",
    "text": "Find out more\nFor more information about US wide wildfires, see this link. For more information about Oregon wildfires, see this official website for Oregon Wildfire Risk and Recovery."
  },
  {
    "objectID": "analysis/US_wildfires_Dashboard.html",
    "href": "analysis/US_wildfires_Dashboard.html",
    "title": "US wildfires in 2014 and 2015",
    "section": "",
    "text": "import datetime\nfrom jdcal import jd2gcal\nfrom matplotlib import gridspec\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport sqlite3\nimport xarray as xr\nimport geopandas as gpd\nfrom matplotlib import pyplot as plt\n\nimport cdsapi\nimport sklearn_pandas as skp\nfrom shapely.geometry import Point\nimport altair as alt\nfrom vega_datasets import data\nimport plotly.express as px\n\ncustom_colors = ['#68A33E', '#A10702', '#FB9E60', '#FFFF82', '#0F0326']"
  },
  {
    "objectID": "analysis/US_wildfires_Dashboard.html#clean-data",
    "href": "analysis/US_wildfires_Dashboard.html#clean-data",
    "title": "US wildfires in 2014 and 2015",
    "section": "Clean Data",
    "text": "Clean Data\n\ndrop_columns = ['NWCG_REPORTING_AGENCY',\n                'NWCG_REPORTING_UNIT_ID',\n                'NWCG_REPORTING_UNIT_NAME',\n                'FIRE_NAME',\n                'COMPLEX_NAME', \n                'OWNER_DESCR',\n                'OWNER_CODE']\ndf_US = df_raw.drop(columns= drop_columns)\ndf_US['MONTH'] = df_US['DISCOVERY_DATE'].apply(lambda x: jd2gcal(x, 0)[1])\ndf_US['DAY'] = df_US['DISCOVERY_DATE'].apply(lambda x: jd2gcal(x, 0)[2])\n\n\ngeometry = [Point(xy) for xy in zip(df_US['LONGITUDE'], df_US['LATITUDE'])]\ndf_geo = gpd.GeoDataFrame(df_US, geometry=geometry)\ndf_geo.crs = \"EPSG:4326\"\n\n\nstates = alt.topo_feature(data.us_10m.url, feature='states')\nus_states = gpd.read_file(\"cb_2018_us_state_500k/cb_2018_us_state_500k.shp\")\nus_states_geojson = 'states.json' \n\n\nimport plotly.express as px\nimport geopandas as gpd\nfrom sklearn.preprocessing import MinMaxScaler\ndf_grouped = df_geo.groupby(['STATE'], as_index=False).agg({'LATITUDE': 'mean', 'LONGITUDE': 'mean', 'FIRE_SIZE': 'sum' })\n\n\nscaler = MinMaxScaler(feature_range=(1, 10))\ndf_grouped['markersize'] = scaler.fit_transform(df_grouped[['FIRE_SIZE']])\n\n\ndf_grouped = df_grouped.to_csv('df_grouped.csv', index = False)\n\n\nfig = px.scatter_geo(\n    df_grouped,\n    locations='STATE',\n    locationmode='USA-states',\n    color='FIRE_SIZE',\n    size='markersize',\n    hover_name='STATE',\n    projection='natural earth',\n    title='Wildfires in US States',\n    template='plotly',\n)\n\nfig.update_geos(\n    center=dict(lon=-100, lat=40),\n    projection_scale=2,\n)\n\nfig.update_geos(\n    showcoastlines=True,\n    coastlinecolor='black',\n    showsubunits=True,\n    subunitcolor='black',\n    subunitwidth=2,  \n    landcolor='darkgrey',\n    showocean=True,\n    oceancolor='azure',\n)\n\nfig.show()\n\nTo begin investigating trends in wildfires across Oregon, it is important to first consider the larger national perspective. The map above details the total acreage burned in each state. Overall, Alaska far surpasses any other state, while California and Idaho show the highest amount burned in the continental US. These trends are expected, however, as these states are larger than others seen throughout the country, particularly along the midwest and eastern coast. To learn more, hover over each state to explore details including the amount of area burned.\n\nFire cause by state\n\ndf_viz = df_geo.groupby(['STATE', 'STAT_CAUSE_DESCR']).size().reset_index(name='Number_of_Fires')\n\nchart = alt.Chart(df_viz).mark_bar().encode(\n    x='sum(Number_of_Fires):Q',\n    y=alt.Y('STATE:N', sort='-x'),\n    color='STAT_CAUSE_DESCR:N',\n    tooltip=['STATE:N', 'STAT_CAUSE_DESCR:N', 'sum(Number_of_Fires):Q']\n).interactive()\n\nchart\n\n\n\nMonthly/Seasonaly fire frequency\n\ncustom_colors = ['#68A33E','#FFFF82','#FB9E60','#A10702', '#0F0326']  # Add your desired hex colors\ndf_freq_mon = df_geo.groupby(['MONTH', 'FIRE_YEAR']).size().unstack()\ndf_freq_mon.to_csv(\"wildfireDataUS.csv\")\n# plot monthly frequency of fire events\ncounter_fig = 1\nmon_ticks = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec']\nplt.figure(figsize=[11,5])\nsns.heatmap(df_freq_mon, cmap=custom_colors, linewidth=.2, linecolor=[.9,.9,.9])\nplt.yticks(np.arange(0.5,12.5), labels=mon_ticks, rotation=0, fontsize=12)\nplt.xticks(fontsize=12);\nplt.xlabel('')\nplt.ylabel('Month', fontsize=13)\nplt.title(f'Fig {counter_fig}. Number of fire events in US', fontsize=13)\nplt.tight_layout()\n\nThe visualization above shows spread of recorded wildfires across the year, with the darker colors indicating more instances of wildfire. Across the last 24 years, late spring and late summer saw the most burning, with a period of increased fires during the spring of 2006. On average, less than 8,000 fires burn per month across the US - however, certain months tend to tell another story, where more than 16,000 burned in the same time period. There appears to be a slight dip in fires during the early summer months of May and June.\n\n# plot fire frequency by cause and day of year\ncause_by_doy = df_geo.groupby(['STAT_CAUSE_DESCR','DISCOVERY_DOY']).size().unstack()\ncounter_fig +=1\nplt.figure(figsize=[10,5])\nax = sns.heatmap(cause_by_doy,cmap=custom_colors,vmin=0,vmax=500) #'CMRmap_r' &lt;- old color scheme\nplt.xticks(np.arange(0.5,366.5,20), labels=range(1,366,20), rotation=0, fontsize=11)\nplt.yticks(fontsize=11)\nplt.ylabel('Fire Cause', fontsize=12)\nplt.xlabel('Day of year', fontsize=12)\nfor borders in [\"top\",\"right\",\"left\",\"bottom\"]:\n    ax.spines[borders].set_visible(True)\nplt.title(f'Fig {counter_fig}. Distribution of US fires by cause & day of year')\nplt.tight_layout()\n\nNext, we observe which activities are the most likely causes of wildfires across the country depending on the time of year. According to the visualization above, arson, debris burning, and other mixed causes are commonplace throughout the year, while other common reasons tend to spike in specific seasons. For example, lightning strikes and equipment use are common causes during the summertime, when summer storms bring seasonal spikes in thundering clouds, and when people are more likely to get outside and run types of equipment that have the ability to catch ablaze. An interesting observation lies in the missing and undefined category, which is most likely to be recorded in the first half of the year.\n\nfig = px.sunburst(df_geo, path=['FIRE_YEAR', 'MONTH', 'STAT_CAUSE_DESCR'], title='Main Causes of Fire by Month and Year')\nfig.update_layout(margin=dict(l=0, r=0, b=0, t=40)) \nfig.show()\n\n\n                                                \n\n\nFinally, we observe trends in common causes of wildfires by year. To interact with the visualization, select a year from the center of the wheel. The information becomes increasingly detailed as the wheel is explored outwards."
  },
  {
    "objectID": "analysis/US_Dashboard_final.html",
    "href": "analysis/US_Dashboard_final.html",
    "title": "US wildfires in 2014 and 2015",
    "section": "",
    "text": "import datetime\nfrom jdcal import jd2gcal\nfrom matplotlib import gridspec\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport sqlite3\nimport xarray as xr\nimport geopandas as gpd\nfrom matplotlib import pyplot as plt\n\nimport cdsapi\nimport sklearn_pandas as skp\nfrom shapely.geometry import Point\nimport altair as alt\nfrom vega_datasets import data\nimport plotly.express as px\n\ncustom_colors = ['#68A33E', '#A10702', '#FB9E60', '#FFFF82', '#0F0326']"
  },
  {
    "objectID": "analysis/US_Dashboard_final.html#clean-data",
    "href": "analysis/US_Dashboard_final.html#clean-data",
    "title": "US wildfires in 2014 and 2015",
    "section": "Clean Data",
    "text": "Clean Data\n\ndrop_columns = ['NWCG_REPORTING_AGENCY',\n                'NWCG_REPORTING_UNIT_ID',\n                'NWCG_REPORTING_UNIT_NAME',\n                'FIRE_NAME',\n                'COMPLEX_NAME', \n                'OWNER_DESCR',\n                'OWNER_CODE']\ndf_US = df_raw.drop(columns= drop_columns)\ndf_US['MONTH'] = df_US['DISCOVERY_DATE'].apply(lambda x: jd2gcal(x, 0)[1])\ndf_US['DAY'] = df_US['DISCOVERY_DATE'].apply(lambda x: jd2gcal(x, 0)[2])\n\n\ngeometry = [Point(xy) for xy in zip(df_US['LONGITUDE'], df_US['LATITUDE'])]\ndf_geo = gpd.GeoDataFrame(df_US, geometry=geometry)\ndf_geo.crs = \"EPSG:4326\"\n\n\nstates = alt.topo_feature(data.us_10m.url, feature='states')\nus_states = gpd.read_file(\"./Data/cb_2018_us_state_500k/cb_2018_us_state_500k.shp\")\nus_states_geojson = 'states.json' \n\n\nimport plotly.express as px\nimport geopandas as gpd\nfrom sklearn.preprocessing import MinMaxScaler\ndf_grouped = df_geo.groupby(['STATE'], as_index=False).agg({'LATITUDE': 'mean', 'LONGITUDE': 'mean', 'FIRE_SIZE': 'sum' })\n\n\n\nscaler = MinMaxScaler(feature_range=(1, 10))\ndf_grouped['markersize'] = scaler.fit_transform(df_grouped[['FIRE_SIZE']])\n\n\nfig = px.scatter_geo(\n    df_grouped,\n    locations='STATE',\n    locationmode='USA-states',\n    color='FIRE_SIZE',\n    size='markersize',\n    hover_name='STATE',\n    projection='natural earth',\n    title='Wildfires in US States',\n    template='plotly',\n)\n\nfig.update_geos(\n    center=dict(lon=-100, lat=40),\n    projection_scale=2,\n)\n\nfig.update_geos(\n    showcoastlines=True,\n    coastlinecolor='black',\n    showsubunits=True,\n    subunitcolor='black',\n    subunitwidth=2,  \n    landcolor='darkgrey',\n    showocean=True,\n    oceancolor='azure',\n)\n\nfig.show()\n\nTo begin investigating trends in wildfires across Oregon, it is important to first consider the larger national perspective. The map above details the total acreage burned in each state. Overall, Alaska far surpasses any other state, while California and Idaho show the highest amount burned in the continental US. These trends are expected, however, as these states are larger than others seen throughout the country, particularly along the midwest and eastern coast. To learn more, hover over each state to explore details including the amount of area burned.\n\nFire cause by state\n\ndf_viz = df_geo.groupby(['STATE', 'STAT_CAUSE_DESCR']).size().reset_index(name='Number_of_Fires')\n\nchart = alt.Chart(df_viz).mark_bar().encode(\n    x='sum(Number_of_Fires):Q',\n    y=alt.Y('STATE:N', sort='-x'),\n    color='STAT_CAUSE_DESCR:N',\n    tooltip=['STATE:N', 'STAT_CAUSE_DESCR:N', 'sum(Number_of_Fires):Q']\n).interactive()\n\nchart\n\n\n\nMonthly/Seasonaly fire frequency\n\ncustom_colors = ['#68A33E','#FFFF82','#FB9E60','#A10702', '#0F0326']  # Add your desired hex colors\ndf_freq_mon = df_geo.groupby(['MONTH', 'FIRE_YEAR']).size().unstack()\ndf_freq_mon.to_csv(\"wildfireDataUS.csv\")\n# plot monthly frequency of fire events\ncounter_fig = 1\nmon_ticks = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec']\nplt.figure(figsize=[11,5])\nsns.heatmap(df_freq_mon, cmap=custom_colors, linewidth=.2, linecolor=[.9,.9,.9])\nplt.yticks(np.arange(0.5,12.5), labels=mon_ticks, rotation=0, fontsize=12)\nplt.xticks(fontsize=12);\nplt.xlabel('')\nplt.ylabel('Month', fontsize=13)\nplt.title(f'Fig {counter_fig}. Number of fire events in US', fontsize=13)\nplt.tight_layout()\n\nThe visualization above shows spread of recorded wildfires across the year, with the darker colors indicating more instances of wildfire. Across the last 24 years, late spring and late summer saw the most burning, with a period of increased fires during the spring of 2006. On average, less than 8,000 fires burn per month across the US - however, certain months tend to tell another story, where more than 16,000 burned in the same time period. There appears to be a slight dip in fires during the early summer months of May and June.\n\n# plot fire frequency by cause and day of year\ncause_by_doy = df_geo.groupby(['STAT_CAUSE_DESCR','DISCOVERY_DOY']).size().unstack()\ncounter_fig +=1\nplt.figure(figsize=[10,5])\nax = sns.heatmap(cause_by_doy,cmap=custom_colors,vmin=0,vmax=500) #'CMRmap_r' &lt;- old color scheme\nplt.xticks(np.arange(0.5,366.5,20), labels=range(1,366,20), rotation=0, fontsize=11)\nplt.yticks(fontsize=11)\nplt.ylabel('Fire Cause', fontsize=12)\nplt.xlabel('Day of year', fontsize=12)\nfor borders in [\"top\",\"right\",\"left\",\"bottom\"]:\n    ax.spines[borders].set_visible(True)\nplt.title(f'Fig {counter_fig}. Distribution of US fires by cause & day of year')\nplt.tight_layout()\n\nNext, we observe which activities are the most likely causes of wildfires across the country depending on the time of year. According to the visualization above, arson, debris burning, and other mixed causes are commonplace throughout the year, while other common reasons tend to spike in specific seasons. For example, lightning strikes and equipment use are common causes during the summertime, when summer storms bring seasonal spikes in thundering clouds, and when people are more likely to get outside and run types of equipment that have the ability to catch ablaze. An interesting observation lies in the missing and undefined category, which is most likely to be recorded in the first half of the year.\n\nfig = px.sunburst(df_geo, path=['FIRE_YEAR', 'MONTH', 'STAT_CAUSE_DESCR'], title='Main Causes of Fire by Month and Year')\nfig.update_layout(margin=dict(l=0, r=0, b=0, t=40))  # Adjust layout if needed\nfig.show()\n\nFinally, we observe trends in common causes of wildfires by year. To interact with the visualization, select a year from the center of the wheel. The information becomes increasingly detailed as the wheel is explored outwards."
  },
  {
    "objectID": "analysis/US_Dashboard_final.html#load-in-raw-data-1",
    "href": "analysis/US_Dashboard_final.html#load-in-raw-data-1",
    "title": "US wildfires in 2014 and 2015",
    "section": "Load in Raw Data",
    "text": "Load in Raw Data\n\ninput_filename = './FPA_FOD_20170508.sqlite'\nconn = sqlite3.connect(input_filename)\nquery = '''\n    SELECT\n        NWCG_REPORTING_AGENCY, NWCG_REPORTING_UNIT_ID,\n        NWCG_REPORTING_UNIT_NAME,\n        FIRE_NAME,\n        COMPLEX_NAME,\n        FIRE_YEAR,\n        DISCOVERY_DATE,\n        DISCOVERY_DOY,\n        DISCOVERY_TIME,\n        CONT_DATE,\n        CONT_DOY,\n        CONT_TIME,\n        FIRE_SIZE,\n        FIRE_SIZE_CLASS,\n        OWNER_CODE,\n        OWNER_DESCR,\n        LATITUDE,\n        LONGITUDE,\n        STATE,\n        COUNTY\n    FROM\n        Fires;\n'''\ndf_raw = pd.read_sql_query(query, conn)\ndf_raw.info()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 1880465 entries, 0 to 1880464\nData columns (total 20 columns):\n #   Column                    Dtype  \n---  ------                    -----  \n 0   NWCG_REPORTING_AGENCY     object \n 1   NWCG_REPORTING_UNIT_ID    object \n 2   NWCG_REPORTING_UNIT_NAME  object \n 3   FIRE_NAME                 object \n 4   COMPLEX_NAME              object \n 5   FIRE_YEAR                 int64  \n 6   DISCOVERY_DATE            float64\n 7   DISCOVERY_DOY             int64  \n 8   DISCOVERY_TIME            object \n 9   CONT_DATE                 float64\n 10  CONT_DOY                  float64\n 11  CONT_TIME                 object \n 12  FIRE_SIZE                 float64\n 13  FIRE_SIZE_CLASS           object \n 14  OWNER_CODE                float64\n 15  OWNER_DESCR               object \n 16  LATITUDE                  float64\n 17  LONGITUDE                 float64\n 18  STATE                     object \n 19  COUNTY                    object \ndtypes: float64(7), int64(2), object(11)\nmemory usage: 286.9+ MB\n\n\n\ninput_filename = './FPA_FOD_20170508.sqlite'\nconn = sqlite3.connect(input_filename)\nquery = '''\n    SELECT\n       *\n    FROM\n        Fires;\n'''\ndf_raw = pd.read_sql_query(query, conn)\ndf_raw.info()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 1880465 entries, 0 to 1880464\nData columns (total 39 columns):\n #   Column                      Dtype  \n---  ------                      -----  \n 0   OBJECTID                    int64  \n 1   FOD_ID                      int64  \n 2   FPA_ID                      object \n 3   SOURCE_SYSTEM_TYPE          object \n 4   SOURCE_SYSTEM               object \n 5   NWCG_REPORTING_AGENCY       object \n 6   NWCG_REPORTING_UNIT_ID      object \n 7   NWCG_REPORTING_UNIT_NAME    object \n 8   SOURCE_REPORTING_UNIT       object \n 9   SOURCE_REPORTING_UNIT_NAME  object \n 10  LOCAL_FIRE_REPORT_ID        object \n 11  LOCAL_INCIDENT_ID           object \n 12  FIRE_CODE                   object \n 13  FIRE_NAME                   object \n 14  ICS_209_INCIDENT_NUMBER     object \n 15  ICS_209_NAME                object \n 16  MTBS_ID                     object \n 17  MTBS_FIRE_NAME              object \n 18  COMPLEX_NAME                object \n 19  FIRE_YEAR                   int64  \n 20  DISCOVERY_DATE              float64\n 21  DISCOVERY_DOY               int64  \n 22  DISCOVERY_TIME              object \n 23  STAT_CAUSE_CODE             float64\n 24  STAT_CAUSE_DESCR            object \n 25  CONT_DATE                   float64\n 26  CONT_DOY                    float64\n 27  CONT_TIME                   object \n 28  FIRE_SIZE                   float64\n 29  FIRE_SIZE_CLASS             object \n 30  LATITUDE                    float64\n 31  LONGITUDE                   float64\n 32  OWNER_CODE                  float64\n 33  OWNER_DESCR                 object \n 34  STATE                       object \n 35  COUNTY                      object \n 36  FIPS_CODE                   object \n 37  FIPS_NAME                   object \n 38  Shape                       object \ndtypes: float64(8), int64(4), object(27)\nmemory usage: 559.5+ MB"
  },
  {
    "objectID": "analysis/US_Dashboard_final.html#clean-data-and-extract-oregon-boundaries",
    "href": "analysis/US_Dashboard_final.html#clean-data-and-extract-oregon-boundaries",
    "title": "US wildfires in 2014 and 2015",
    "section": "Clean Data and Extract Oregon Boundaries",
    "text": "Clean Data and Extract Oregon Boundaries\n\ndrop_columns = ['NWCG_REPORTING_AGENCY',\n                'NWCG_REPORTING_UNIT_ID',\n                'NWCG_REPORTING_UNIT_NAME',\n                'FIRE_NAME',\n                'COMPLEX_NAME', \n                'OWNER_DESCR',\n                'OWNER_CODE']\ndf_US= df_raw.drop(columns= drop_columns)\ndf_US['MONTH'] = df_US['DISCOVERY_DATE'].apply(lambda x: jd2gcal(x, 0)[1])\ndf_US['DAY'] = df_US['DISCOVERY_DATE'].apply(lambda x: jd2gcal(x, 0)[2])\n\n\nfrom shapely.geometry import Point\ngeometry = [Point(xy) for xy in zip(df_US['LONGITUDE'], df_US['LATITUDE'])]\ndf_geo = gpd.GeoDataFrame(df_US, geometry=geometry)\ndf_geo.crs = \"EPSG:4326\"\n\n\nstates = alt.topo_feature(data.us_10m.url, feature='states')\nus_states = gpd.read_file(\"./cb_2018_us_state_500k/cb_2018_us_state_500k.shp\")\nstates_us = gpd.read_file(\"./states.json\")\ndf_grouped = df_geo.groupby(['STATE'], as_index=False).agg({'LATITUDE': 'mean', 'LONGITUDE': 'mean', 'FIRE_SIZE': 'sum' })\nus_states_geojson = 'states.json' \n\n\nm = folium.Map(location=[40, -95], zoom_start=4)\n\nfolium.GeoJson(\n    us_states_geojson,\n    name='geojson'\n).add_to(m)\n\nmarker_cluster = MarkerCluster().add_to(m)\n\n\nfor index, row in df_grouped.iterrows():\n    folium.Marker(\n        location=[row['LATITUDE'], row['LONGITUDE']],\n        popup=f\"State: {row['STATE']}\\nFire Size: {row['FIRE_SIZE']:.2f}\",\n        icon=None,\n    ).add_to(marker_cluster)\n\nm.save('wildfires_map.html')\n\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook"
  },
  {
    "objectID": "analysis/Final_V3.html",
    "href": "analysis/Final_V3.html",
    "title": "Oregon Wildfires",
    "section": "",
    "text": "import datetime\nfrom jdcal import jd2gcal\nfrom matplotlib import gridspec\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport sqlite3\nimport xarray as xr\nimport geopandas as gpd\nfrom matplotlib import pyplot as plt\n\nimport cdsapi\nimport sklearn_pandas as skp\nimport altair as alt\nfrom vega_datasets import data\nfrom shapely.geometry import Point\nimport plotly.express as px\nimport geopandas as gpd\nfrom sklearn.preprocessing import MinMaxScaler\nimport folium\nfrom folium.plugins import MarkerCluster\n\n\ncustom_colors = ['#68A33E', '#A10702', '#FB9E60', '#FFFF82', '#0F0326']"
  },
  {
    "objectID": "analysis/Final_V3.html#download-and-extract-climate-data",
    "href": "analysis/Final_V3.html#download-and-extract-climate-data",
    "title": "Oregon Wildfires",
    "section": "Download and Extract Climate Data",
    "text": "Download and Extract Climate Data\n\nbendWeather = pd.read_csv(\"BendWeather.csv\")\n\ndef convert_date(date_str):\n    formats_to_try = ['%d/%m/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S']  # Add more formats if needed\n    for fmt in formats_to_try:\n        try:\n            return pd.to_datetime(date_str, format=fmt)\n        except ValueError:\n            pass\n    return None\nbendWeather['interval60'] = pd.to_datetime(bendWeather['interval60'], format='%m/%d/%Y %H:%M')\nbendWeather['Day'] = bendWeather['interval60'].dt.day\nbendWeather['Month'] = bendWeather['interval60'].dt.month\nbendWeather['Year'] = bendWeather['interval60'].dt.year\nbendWeather['Hour'] = bendWeather['interval60'].dt.hour\n\nbendWeather.head(2)\n\n\n\n\n\n\n\n\ninterval60\nTemperature\nPrecipitation\nWind_Speed\nDew_Point_Temp\nDay\nMonth\nYear\nHour\n\n\n\n\n0\n2020-01-01 00:00:00\n46.4\n0.02\n15\n41.0\n1\n1\n2020\n0\n\n\n1\n2020-01-01 01:00:00\n44.6\n0.01\n14\n41.0\n1\n1\n2020\n1"
  },
  {
    "objectID": "analysis/Final_V3.html#analyzing-weather-patterns",
    "href": "analysis/Final_V3.html#analyzing-weather-patterns",
    "title": "Oregon Wildfires",
    "section": "Analyzing Weather Patterns",
    "text": "Analyzing Weather Patterns\n\nAnnual Temperature Trends\n\ndf_freq_mon = bendWeather.groupby(['Month', 'Temperature']).size().unstack()\n# plot monthly frequency of fire events\ncounter_fig = 3\nmon_ticks = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec']\nplt.figure(figsize=[11,5])\nsns.heatmap(df_freq_mon, cmap=custom_colors, linewidth=.01, linecolor=[.9,.9,.9])\nplt.yticks(np.arange(0.5,12.5), labels=mon_ticks, rotation=0, fontsize=12)\nplt.xticks(fontsize=12);\nplt.xlabel('')\nplt.ylabel('Month', fontsize=13)\nplt.title('Annual Temperature Changes in Oregon', fontsize=13)\nplt.tight_layout()\n\n\n\n\nThe visualization above shows average temperature variations between the years 2014-15. Oregon’s weather changes drastically among seasons, with warm weather seen most commonly in the dog days of summer of July and August. During this season, temperatures can reach up to almost 110 degrees Fahrenheit. During the colder months, between November and March, temperatures generally range between 32 and 42 degrees Fahrenheit.\n\n\nPatterns in Wind Speed\n\n# Annual Patterns in Wind Speed\ndf_freq_mon = bendWeather.groupby(['Month', 'Wind_Speed']).size().unstack()\n# plot monthly frequency of fire events\ncounter_fig = 3\nmon_ticks = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec']\nplt.figure(figsize=[11,5])\nsns.heatmap(df_freq_mon, cmap=custom_colors, linewidth=.01, linecolor=[.9,.9,.9])\nplt.yticks(np.arange(0.5,12.5), labels=mon_ticks, rotation=0, fontsize=12)\nplt.xticks(fontsize=12);\nplt.xlabel('')\nplt.ylabel('Month', fontsize=13)\nplt.title('Annual Precipitation Patterns in Oregon', fontsize=13)\nplt.tight_layout()\n\n\n\n\nThe above visualization details average wind speeds my time of year for 2014-15. While there is typically a light breeze in the air year-round, the cooler months of late fall and early winter occasionally see heavier gusts - October through January may see winds higher than 30 miles per hour. Now below, we will combine the the wildfires for 2014 and 2015 in oregon with the corresponding weather data for the to produce a dahsboard in the analysis tab.\n\nimport pandas as pd\nfrom astropy.time import Time\nfrom datetime import datetime\nimport numpy as np\npd.set_option('display.max_columns', None)\n\nyear = [2014, 2015]\ndf_OR_year = df_OR[df_OR['FIRE_YEAR'].isin(year)]\npd.set_option('display.max_columns', None)\n\n# Filter out non-finite values\ndf_OR_year = df_OR_year[np.isfinite(df_OR_year['DISCOVERY_DATE'])]\n\n# Convert Julian dates to standard dates\ndf_OR_year['DISCOVERY_DATE'] = Time(df_OR_year['DISCOVERY_DATE'], format='jd').to_value('iso', subfmt='date')\ndf_OR_year.head(20)\n\n##################################################\n\n# Drop rows with NA values in the 'DISCOVERY_TIME' column\ndf_OR_year = df_OR_year.dropna(subset=['DISCOVERY_TIME'])\n\n# Check the datatype of 'DISCOVERY_TIME'\nif pd.api.types.is_datetime64_any_dtype(df_OR_year['DISCOVERY_TIME']):\n    # Round off to the nearest hour\n    df_OR_year['DISCOVERY_TIME'] = df_OR_year['DISCOVERY_TIME'].dt.round('H').dt.strftime('%H:%M:%S')\nelse:\n    # Convert to datetime object\n    df_OR_year['DISCOVERY_TIME'] = df_OR_year['DISCOVERY_TIME'].apply(lambda x: datetime.strptime(x, '%H%M'))\n    # Round off to the nearest hour\n    df_OR_year['DISCOVERY_TIME'] = df_OR_year['DISCOVERY_TIME'].dt.round('H').dt.strftime('%H:%M:%S')\n\n    \n################################################   \n\n# Drop rows with NaN values in 'DISCOVERY_DATE' or 'DISCOVERY_TIME'\ndf_OR_year = df_OR_year.dropna(subset=['DISCOVERY_DATE', 'DISCOVERY_TIME'])\n\n# Combine date and time into a new column\ndf_OR_year['DISCOVERY_DATETIME'] = pd.to_datetime(df_OR_year['DISCOVERY_DATE'] + ' ' + df_OR_year['DISCOVERY_TIME'], format='%Y-%m-%d %H:%M:%S')\n\n###############################################\n\ndf_OR_year['DISCOVERY_DATETIME'] = df_OR_year['DISCOVERY_DATETIME'].dt.floor('H')\n\ndf_OR_year.head()\n\n\n\n\n\n\n\n\nOBJECTID\nFOD_ID\nFPA_ID\nSOURCE_SYSTEM_TYPE\nSOURCE_SYSTEM\nSOURCE_REPORTING_UNIT\nSOURCE_REPORTING_UNIT_NAME\nLOCAL_FIRE_REPORT_ID\nLOCAL_INCIDENT_ID\nFIRE_CODE\nICS_209_INCIDENT_NUMBER\nICS_209_NAME\nMTBS_ID\nMTBS_FIRE_NAME\nFIRE_YEAR\nDISCOVERY_DATE\nDISCOVERY_DOY\nDISCOVERY_TIME\nSTAT_CAUSE_CODE\nSTAT_CAUSE_DESCR\nCONT_DATE\nCONT_DOY\nCONT_TIME\nFIRE_SIZE\nFIRE_SIZE_CLASS\nLATITUDE\nLONGITUDE\nSTATE\nCOUNTY\nFIPS_CODE\nFIPS_NAME\nShape\nMONTH\nDAY\ngeometry\nDISCOVERY_DATETIME\n\n\n\n\n1722247\n1722248\n300000318\nFS-1527910\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n241\n1-157\nJGK4\nNone\nNone\nNone\nNone\n2014\n2014-11-10\n314\n10:00:00\n9.0\nMiscellaneous\n2456971.5\n314.0\n1049\n0.1\nA\n43.787778\n-121.116667\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\xb8\\x0b{wwG^\\xc0\\xd...\n11\n10\nPOINT (-121.11667 43.78778)\n2014-11-10 10:00:00\n\n\n1722248\n1722249\n300000319\nFS-1527911\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n242\n1-158\nJG4Y\nNone\nNone\nNone\nNone\n2014\n2014-12-15\n349\n11:00:00\n9.0\nMiscellaneous\n2457006.5\n349.0\n1201\n0.1\nA\n43.820000\n-121.321667\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00&lt;\\xf7\\xcc/\\x96T^\\xc0...\n12\n15\nPOINT (-121.32167 43.82000)\n2014-12-15 11:00:00\n\n\n1722249\n1722250\n300000320\nFS-1527906\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n136\n1-086\nEK2A\nNone\nNone\nNone\nNone\n2014\n2014-07-29\n210\n18:00:00\n1.0\nLightning\n2456867.5\n210.0\n1935\n0.1\nA\n43.397778\n-121.218611\nOR\nLake\n037\nLake\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\x80\\xffs\\xb9\\xfdM^\\...\n7\n29\nPOINT (-121.21861 43.39778)\n2014-07-29 18:00:00\n\n\n1722250\n1722251\n300000321\nFS-1527907\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n232\n1-149\nJFC6\nNone\nNone\nNone\nNone\n2014\n2014-10-04\n277\n13:00:00\n9.0\nMiscellaneous\n2456936.5\n279.0\n1749\n17.0\nC\n43.652778\n-120.971111\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\xdc\\x8e6\\xaf&&gt;^\\xc0...\n10\n4\nPOINT (-120.97111 43.65278)\n2014-10-04 13:00:00\n\n\n1722251\n1722252\n300000322\nFS-1525770\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n007\n1-007\nH36G\nNone\nNone\nNone\nNone\n2014\n2014-07-05\n186\n11:00:00\n4.0\nCampfire\n2456843.5\n186.0\n1322\n0.1\nA\n43.485278\n-121.121389\nOR\nLake\n037\nLake\nb'\\x00\\x01\\xad\\x10\\x00\\x00t)\\xe8\\xd5\\xc4G^\\xc0...\n7\n5\nPOINT (-121.12139 43.48528)\n2014-07-05 11:00:00\n\n\n\n\n\n\n\n\nimport pandas as pd\nbendWeather_up = pd.read_csv(\"BendWeather_up.csv\")\n\nbendWeather_up = bendWeather_up[bendWeather_up['interval60'].str.len() &gt; 10]\nbendWeather_up['interval60'] = pd.to_datetime(bendWeather_up['interval60'], \n                                              format='%Y-%m-%d %H:%M:%S'\n                                             )\nmerged_df = pd.merge(df_OR_year, \n                     bendWeather_up, \n                     left_on='DISCOVERY_DATETIME', \n                     right_on='interval60', \n                     how='inner')"
  },
  {
    "objectID": "analysis/Dashboard_US.html",
    "href": "analysis/Dashboard_US.html",
    "title": "US Dashboard",
    "section": "",
    "text": "import pandas as pd\nus_states_geojson = 'states.json'\ndf_grouped = pd.read_csv('df_grouped.csv')\n\n\nimport folium\nfrom folium.plugins import MarkerCluster\nm = folium.Map(location=[40, -95], zoom_start=4, tiles='CartoDB Dark_Matter')\n\nfolium.GeoJson(\n    us_states_geojson,\n    name='geojson'\n).add_to(m)\n\nmarker_cluster = MarkerCluster().add_to(m)\n\n\nfor index, row in df_grouped.iterrows():\n    folium.Marker(\n        location=[row['LATITUDE'], row['LONGITUDE']],\n        popup=f\"State: {row['STATE']}\\nFire Size: {row['FIRE_SIZE']:.2f}\",\n        icon=None,\n    ).add_to(marker_cluster)\n\nm.save('wildfires_map.html')\n\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About us",
    "section": "",
    "text": "We are Kathleen and Shreya. Our collaboration goes beyond this project; we have been roommates since semester 1 and have wanted to work on an interesting project together. Based on the incessant conversations in the living room until 2am, we really wanted to study and visualize an impending problem and test whether it is affected by climate change."
  },
  {
    "objectID": "analysis/Dashboard.html",
    "href": "analysis/Dashboard.html",
    "title": "Oregon Dashboard",
    "section": "",
    "text": "import pandas as pd\nmerged_df = pd.read_csv(\"./OR_year.csv\")\n\n\nimport folium\nimport plotly.express as px\nimport panel as pn\nfrom IPython.display import HTML\nfrom folium.plugins import MarkerCluster\n\nn = folium.Map(location=[merged_df['LATITUDE'].mean(), merged_df['LONGITUDE'].mean()], zoom_start=6, tiles='CartoDB Dark_Matter')\n\n# Create MarkerCluster\nmarker_cluster = folium.plugins.MarkerCluster().add_to(n)\n\nfor index, row in merged_df.iterrows():\n    popup_text = f\"&lt;b&gt;Precipitation:&lt;/b&gt; {row['Precipitation']}&lt;br&gt;\" \\\n                 f\"&lt;b&gt;Wind Speed:&lt;/b&gt; {row['Wind_Speed']}&lt;br&gt;\" \\\n                 f\"&lt;b&gt;Temperature:&lt;/b&gt; {row['Temperature']}&lt;br&gt;\" \\\n                 f\"&lt;b&gt;Discovery Time:&lt;/b&gt; {row['DISCOVERY_DATE']}&lt;br&gt;\" \\\n                 f\"&lt;b&gt;Fire Size:&lt;/b&gt; {row['FIRE_SIZE']:.2f}\"\n    \n    icon = folium.Icon(color='red', icon='circle', prefix='fa')  # Use red circle icons\n    \n    folium.Marker(location=[row['LATITUDE'], row['LONGITUDE']], popup=popup_text, icon=icon).add_to(marker_cluster)\n\nn.save('wildfires_map_OR.html')\n\npn.extension()\nfolium_map_html = pn.pane.HTML('&lt;iframe src=\"wildfires_map_OR.html\" width=\"100%\" height=\"600\"&gt;&lt;/iframe&gt;', width=800, height=600)\napp = pn.Column(\"## Wildfires Map Oregon\", folium_map_html)\n\napp.servable()\n\n\n\n\n\n\n\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\n  \n\n\n\n\nThe visualization above presents an interactive dashboard that locates individual fires across Oregon recorded between 2014-15. To interact with the map, zoom into a specific location, then hover over a specific point to reveal important details about the fire (acreage burned and date of observation), as well as weather information (precipitation, temperature, and wind speed)."
  },
  {
    "objectID": "analysis/Final_V2.html",
    "href": "analysis/Final_V2.html",
    "title": "Oregon Wildfires",
    "section": "",
    "text": "import datetime\nfrom jdcal import jd2gcal\nfrom matplotlib import gridspec\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport sqlite3\nimport xarray as xr\nimport geopandas as gpd\nfrom matplotlib import pyplot as plt\n\nimport cdsapi\nimport sklearn_pandas as skp\nimport altair as alt\nfrom vega_datasets import data\nfrom shapely.geometry import Point\nimport plotly.express as px\nimport geopandas as gpd\nfrom sklearn.preprocessing import MinMaxScaler\nimport folium\nfrom folium.plugins import MarkerCluster\n\n\ncustom_colors = ['#68A33E', '#A10702', '#FB9E60', '#FFFF82', '#0F0326']"
  },
  {
    "objectID": "analysis/Final_V2.html#filter-to-2014-and-2015",
    "href": "analysis/Final_V2.html#filter-to-2014-and-2015",
    "title": "Oregon Wildfires",
    "section": "Filter to 2014 and 2015",
    "text": "Filter to 2014 and 2015\n\nyear = [2014, 2015]\ndf_OR_year = df_OR[df_OR['FIRE_YEAR'].isin(year)]\n\n\npd.set_option('display.max_columns', None)\ndf_OR_year.head(10)\n\n\n\n\n\n\n\n\nOBJECTID\nFOD_ID\nFPA_ID\nSOURCE_SYSTEM_TYPE\nSOURCE_SYSTEM\nSOURCE_REPORTING_UNIT\nSOURCE_REPORTING_UNIT_NAME\nLOCAL_FIRE_REPORT_ID\nLOCAL_INCIDENT_ID\nFIRE_CODE\nICS_209_INCIDENT_NUMBER\nICS_209_NAME\nMTBS_ID\nMTBS_FIRE_NAME\nFIRE_YEAR\nDISCOVERY_DATE\nDISCOVERY_DOY\nDISCOVERY_TIME\nSTAT_CAUSE_CODE\nSTAT_CAUSE_DESCR\nCONT_DATE\nCONT_DOY\nCONT_TIME\nFIRE_SIZE\nFIRE_SIZE_CLASS\nLATITUDE\nLONGITUDE\nSTATE\nCOUNTY\nFIPS_CODE\nFIPS_NAME\nShape\nMONTH\nDAY\ngeometry\n\n\n\n\n1722247\n1722248\n300000318\nFS-1527910\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n241\n1-157\nJGK4\nNone\nNone\nNone\nNone\n2014\n2456971.5\n314\n1027\n9.0\nMiscellaneous\n2456971.5\n314.0\n1049\n0.1\nA\n43.787778\n-121.116667\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\xb8\\x0b{wwG^\\xc0\\xd...\n11\n10\nPOINT (-121.11667 43.78778)\n\n\n1722248\n1722249\n300000319\nFS-1527911\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n242\n1-158\nJG4Y\nNone\nNone\nNone\nNone\n2014\n2457006.5\n349\n1100\n9.0\nMiscellaneous\n2457006.5\n349.0\n1201\n0.1\nA\n43.820000\n-121.321667\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00&lt;\\xf7\\xcc/\\x96T^\\xc0...\n12\n15\nPOINT (-121.32167 43.82000)\n\n\n1722249\n1722250\n300000320\nFS-1527906\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n136\n1-086\nEK2A\nNone\nNone\nNone\nNone\n2014\n2456867.5\n210\n1809\n1.0\nLightning\n2456867.5\n210.0\n1935\n0.1\nA\n43.397778\n-121.218611\nOR\nLake\n037\nLake\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\x80\\xffs\\xb9\\xfdM^\\...\n7\n29\nPOINT (-121.21861 43.39778)\n\n\n1722250\n1722251\n300000321\nFS-1527907\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n232\n1-149\nJFC6\nNone\nNone\nNone\nNone\n2014\n2456934.5\n277\n1328\n9.0\nMiscellaneous\n2456936.5\n279.0\n1749\n17.0\nC\n43.652778\n-120.971111\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\xdc\\x8e6\\xaf&&gt;^\\xc0...\n10\n4\nPOINT (-120.97111 43.65278)\n\n\n1722251\n1722252\n300000322\nFS-1525770\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n007\n1-007\nH36G\nNone\nNone\nNone\nNone\n2014\n2456843.5\n186\n1103\n4.0\nCampfire\n2456843.5\n186.0\n1322\n0.1\nA\n43.485278\n-121.121389\nOR\nLake\n037\nLake\nb'\\x00\\x01\\xad\\x10\\x00\\x00t)\\xe8\\xd5\\xc4G^\\xc0...\n7\n5\nPOINT (-121.12139 43.48528)\n\n\n1722252\n1722253\n300000323\nFS-1526364\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n131\n1-081\nEK2A\nNone\nNone\nNone\nNone\n2014\n2456867.5\n210\n1700\n1.0\nLightning\n2456867.5\n210.0\n2133\n0.1\nA\n43.879722\n-121.745833\nOR\nDeschutes\n017\nDeschutes\nb\"\\x00\\x01\\xad\\x10\\x00\\x00x'\\xb8\\xbb\\xbbo^\\xc0...\n7\n29\nPOINT (-121.74583 43.87972)\n\n\n1722253\n1722254\n300000324\nFS-1526369\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n144\n1-094\nEK2A\nNone\nNone\nNone\nNone\n2014\n2456868.5\n211\n1757\n1.0\nLightning\n2456869.5\n212.0\n1800\n0.5\nB\n43.956111\n-121.709722\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00&lt;\\t\\xbf\\x16lm^\\xc0pe...\n7\n30\nPOINT (-121.70972 43.95611)\n\n\n1722254\n1722255\n300000325\nFS-1527332\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n129\n1-080\nEK2A\nNone\nNone\nNone\nNone\n2014\n2456868.5\n211\n0903\n1.0\nLightning\n2456876.5\n219.0\n1800\n3.0\nB\n43.836944\n-121.683056\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00@\\xe3\\xaa.\\xb7k^\\xc0...\n7\n30\nPOINT (-121.68306 43.83694)\n\n\n1722255\n1722256\n300000326\nFS-1522616\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n109\n5-022\nEK2A\nNone\nNone\nNone\nNone\n2014\n2456861.5\n204\n0837\n1.0\nLightning\n2456861.5\n204.0\n1100\n0.1\nA\n44.533056\n-121.500278\nOR\nJefferson\n031\nJefferson\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\xfc\\x00\\x18\\x8d\\x04...\n7\n23\nPOINT (-121.50028 44.53306)\n\n\n1722256\n1722257\n300000327\nFS-1523017\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n115\n5-024\nEK2A\nNone\nNone\nNone\nNone\n2014\n2456867.5\n210\n1200\n1.0\nLightning\n2456867.5\n210.0\n2000\n0.1\nA\n44.256944\n-121.775278\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\x94\\x9a\\xb1&\\x9eq^\\...\n7\n29\nPOINT (-121.77528 44.25694)\n\n\n\n\n\n\n\n\nimport pandas as pd\nfrom astropy.time import Time\nfrom datetime import datetime\nimport numpy as np\npd.set_option('display.max_columns', None)\n\n# Assuming df_OR is your DataFrame\n# Filter out non-finite values\ndf_OR_year = df_OR_year[np.isfinite(df_OR_year['DISCOVERY_DATE'])]\n\n# Convert Julian dates to standard dates\ndf_OR_year['DISCOVERY_DATE'] = Time(df_OR_year['DISCOVERY_DATE'], format='jd').to_value('iso', subfmt='date')\ndf_OR_year.head(20)\n\n\n\n\n\n\n\n\nOBJECTID\nFOD_ID\nFPA_ID\nSOURCE_SYSTEM_TYPE\nSOURCE_SYSTEM\nSOURCE_REPORTING_UNIT\nSOURCE_REPORTING_UNIT_NAME\nLOCAL_FIRE_REPORT_ID\nLOCAL_INCIDENT_ID\nFIRE_CODE\nICS_209_INCIDENT_NUMBER\nICS_209_NAME\nMTBS_ID\nMTBS_FIRE_NAME\nFIRE_YEAR\nDISCOVERY_DATE\nDISCOVERY_DOY\nDISCOVERY_TIME\nSTAT_CAUSE_CODE\nSTAT_CAUSE_DESCR\nCONT_DATE\nCONT_DOY\nCONT_TIME\nFIRE_SIZE\nFIRE_SIZE_CLASS\nLATITUDE\nLONGITUDE\nSTATE\nCOUNTY\nFIPS_CODE\nFIPS_NAME\nShape\nMONTH\nDAY\ngeometry\n\n\n\n\n1722247\n1722248\n300000318\nFS-1527910\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n241\n1-157\nJGK4\nNone\nNone\nNone\nNone\n2014\n2014-11-10\n314\n1027\n9.0\nMiscellaneous\n2456971.5\n314.0\n1049\n0.10\nA\n43.787778\n-121.116667\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\xb8\\x0b{wwG^\\xc0\\xd...\n11\n10\nPOINT (-121.11667 43.78778)\n\n\n1722248\n1722249\n300000319\nFS-1527911\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n242\n1-158\nJG4Y\nNone\nNone\nNone\nNone\n2014\n2014-12-15\n349\n1100\n9.0\nMiscellaneous\n2457006.5\n349.0\n1201\n0.10\nA\n43.820000\n-121.321667\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00&lt;\\xf7\\xcc/\\x96T^\\xc0...\n12\n15\nPOINT (-121.32167 43.82000)\n\n\n1722249\n1722250\n300000320\nFS-1527906\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n136\n1-086\nEK2A\nNone\nNone\nNone\nNone\n2014\n2014-07-29\n210\n1809\n1.0\nLightning\n2456867.5\n210.0\n1935\n0.10\nA\n43.397778\n-121.218611\nOR\nLake\n037\nLake\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\x80\\xffs\\xb9\\xfdM^\\...\n7\n29\nPOINT (-121.21861 43.39778)\n\n\n1722250\n1722251\n300000321\nFS-1527907\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n232\n1-149\nJFC6\nNone\nNone\nNone\nNone\n2014\n2014-10-04\n277\n1328\n9.0\nMiscellaneous\n2456936.5\n279.0\n1749\n17.00\nC\n43.652778\n-120.971111\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\xdc\\x8e6\\xaf&&gt;^\\xc0...\n10\n4\nPOINT (-120.97111 43.65278)\n\n\n1722251\n1722252\n300000322\nFS-1525770\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n007\n1-007\nH36G\nNone\nNone\nNone\nNone\n2014\n2014-07-05\n186\n1103\n4.0\nCampfire\n2456843.5\n186.0\n1322\n0.10\nA\n43.485278\n-121.121389\nOR\nLake\n037\nLake\nb'\\x00\\x01\\xad\\x10\\x00\\x00t)\\xe8\\xd5\\xc4G^\\xc0...\n7\n5\nPOINT (-121.12139 43.48528)\n\n\n1722252\n1722253\n300000323\nFS-1526364\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n131\n1-081\nEK2A\nNone\nNone\nNone\nNone\n2014\n2014-07-29\n210\n1700\n1.0\nLightning\n2456867.5\n210.0\n2133\n0.10\nA\n43.879722\n-121.745833\nOR\nDeschutes\n017\nDeschutes\nb\"\\x00\\x01\\xad\\x10\\x00\\x00x'\\xb8\\xbb\\xbbo^\\xc0...\n7\n29\nPOINT (-121.74583 43.87972)\n\n\n1722253\n1722254\n300000324\nFS-1526369\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n144\n1-094\nEK2A\nNone\nNone\nNone\nNone\n2014\n2014-07-30\n211\n1757\n1.0\nLightning\n2456869.5\n212.0\n1800\n0.50\nB\n43.956111\n-121.709722\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00&lt;\\t\\xbf\\x16lm^\\xc0pe...\n7\n30\nPOINT (-121.70972 43.95611)\n\n\n1722254\n1722255\n300000325\nFS-1527332\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n129\n1-080\nEK2A\nNone\nNone\nNone\nNone\n2014\n2014-07-30\n211\n0903\n1.0\nLightning\n2456876.5\n219.0\n1800\n3.00\nB\n43.836944\n-121.683056\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00@\\xe3\\xaa.\\xb7k^\\xc0...\n7\n30\nPOINT (-121.68306 43.83694)\n\n\n1722255\n1722256\n300000326\nFS-1522616\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n109\n5-022\nEK2A\nNone\nNone\nNone\nNone\n2014\n2014-07-23\n204\n0837\n1.0\nLightning\n2456861.5\n204.0\n1100\n0.10\nA\n44.533056\n-121.500278\nOR\nJefferson\n031\nJefferson\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\xfc\\x00\\x18\\x8d\\x04...\n7\n23\nPOINT (-121.50028 44.53306)\n\n\n1722256\n1722257\n300000327\nFS-1523017\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n115\n5-024\nEK2A\nNone\nNone\nNone\nNone\n2014\n2014-07-29\n210\n1200\n1.0\nLightning\n2456867.5\n210.0\n2000\n0.10\nA\n44.256944\n-121.775278\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\x94\\x9a\\xb1&\\x9eq^\\...\n7\n29\nPOINT (-121.77528 44.25694)\n\n\n1722257\n1722258\n300000328\nFS-1523333\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n117\n5-025\nEK2A\nNone\nNone\nNone\nNone\n2014\n2014-07-25\n206\n1231\n1.0\nLightning\n2456863.5\n206.0\n1847\n0.10\nA\n44.649722\n-121.611389\nOR\nJefferson\n031\nJefferson\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\x00\\xec\\xdd\\xfe g^\\...\n7\n25\nPOINT (-121.61139 44.64972)\n\n\n1722258\n1722259\n300000329\nFS-1523349\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n130\n5-026\nEK2A\nNone\nNone\nNone\nNone\n2014\n2014-07-29\n210\n1700\n1.0\nLightning\n2456867.5\n210.0\n2258\n0.25\nA\n44.116389\n-121.567500\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\xb4\\x1e\\x85\\xebQd^\\...\n7\n29\nPOINT (-121.56750 44.11639)\n\n\n1722259\n1722260\n300000330\nFS-1523339\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n163\n5-033\nEK2A\nNone\nNone\nNone\nNone\n2014\n2014-08-01\n213\n0657\n1.0\nLightning\n2456870.5\n213.0\n2105\n0.27\nB\n44.387778\n-121.611667\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\x00\\xed\\xf5\\x8b%g^\\...\n8\n1\nPOINT (-121.61167 44.38778)\n\n\n1722260\n1722261\n300000331\nFS-1527366\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n045\n1-034\nEK2A\nNone\nNone\nNone\nNone\n2014\n2014-07-02\n183\n1556\n1.0\nLightning\n2456840.5\n183.0\n1716\n0.10\nA\n43.912222\n-121.391111\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00T\\xa3\\xe4\\xf6\\x07Y^\\...\n7\n2\nPOINT (-121.39111 43.91222)\n\n\n1722261\n1722262\n300000332\nFS-1527963\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n155\n1-101\nEK2A\nNone\nNone\nNone\nNone\n2014\n2014-07-31\n212\n1816\n1.0\nLightning\n2456869.5\n212.0\n2149\n0.20\nA\n43.644722\n-121.686667\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\xcc\\xb9\\xc2X\\xf2k^\\...\n7\n31\nPOINT (-121.68667 43.64472)\n\n\n1722262\n1722263\n300000333\nFS-1527223\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n084\n1-054\nEK2A\nNone\nNone\nNone\nNone\n2014\n2014-07-13\n194\n1528\n1.0\nLightning\n2456855.5\n198.0\n0700\n70.00\nC\n43.531667\n-121.027778\nOR\nLake\n037\nLake\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\xf0)t\\x1c\\xc7A^\\xc0...\n7\n13\nPOINT (-121.02778 43.53167)\n\n\n1722263\n1722264\n300000334\nFS-1521462\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n020\n1-016\nEK2A\nNone\nNone\nNone\nNone\n2014\n2014-06-02\n153\n1606\n1.0\nLightning\n2456810.5\n153.0\n2155\n0.10\nA\n43.458611\n-121.176389\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\\\{\\xa0\\xf4IK^\\xc0(\\...\n6\n2\nPOINT (-121.17639 43.45861)\n\n\n1722264\n1722265\n300000335\nFS-1525919\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n187\n2-026\nEK2A\nNone\nNone\nNone\nNone\n2014\n2014-08-10\n222\n1931\n1.0\nLightning\n2456879.5\n222.0\n2050\n0.10\nA\n43.604167\n-122.547500\nOR\nKlamath\n035\nKlamath\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\xd4\\xa3p=\\n\\xa3^\\xc...\n8\n10\nPOINT (-122.54750 43.60417)\n\n\n1722265\n1722266\n300000336\nFS-1525848\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n188\n2-027\nEK2A\nNone\nNone\nNone\nNone\n2014\n2014-08-10\n222\n1936\n1.0\nLightning\n2456880.5\n223.0\n1327\n1.25\nB\n43.602500\n-122.016389\nOR\nKlamath\n035\nKlamath\nb'\\x00\\x01\\xad\\x10\\x00\\x00T\\xa4\\xfc\\x83\\x0c\\x8...\n8\n10\nPOINT (-122.01639 43.60250)\n\n\n1722266\n1722267\n300000337\nFS-1525157\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n112\n1-066\nEK2A\nNone\nNone\nNone\nNone\n2014\n2014-07-29\n210\n1550\n1.0\nLightning\n2456868.5\n211.0\n1204\n0.10\nA\n43.604167\n-121.276111\nOR\nLake\n037\nLake\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\xc8\\xe0\\xee\\xcd\\xab...\n7\n29\nPOINT (-121.27611 43.60417)\n\n\n\n\n\n\n\n\n# Drop rows with NA values in the 'DISCOVERY_TIME' column\ndf_OR_year = df_OR_year.dropna(subset=['DISCOVERY_TIME'])\n\n# Check the datatype of 'DISCOVERY_TIME'\nif pd.api.types.is_datetime64_any_dtype(df_OR_year['DISCOVERY_TIME']):\n    # Round off to the nearest hour\n    df_OR_year['DISCOVERY_TIME'] = df_OR_year['DISCOVERY_TIME'].dt.round('H').dt.strftime('%H:%M:%S')\nelse:\n    # Convert to datetime object\n    df_OR_year['DISCOVERY_TIME'] = df_OR_year['DISCOVERY_TIME'].apply(lambda x: datetime.strptime(x, '%H%M'))\n    # Round off to the nearest hour\n    df_OR_year['DISCOVERY_TIME'] = df_OR_year['DISCOVERY_TIME'].dt.round('H').dt.strftime('%H:%M:%S')\n\n\ndf_OR_year.head()\n\n\n\n\n\n\n\n\nOBJECTID\nFOD_ID\nFPA_ID\nSOURCE_SYSTEM_TYPE\nSOURCE_SYSTEM\nSOURCE_REPORTING_UNIT\nSOURCE_REPORTING_UNIT_NAME\nLOCAL_FIRE_REPORT_ID\nLOCAL_INCIDENT_ID\nFIRE_CODE\nICS_209_INCIDENT_NUMBER\nICS_209_NAME\nMTBS_ID\nMTBS_FIRE_NAME\nFIRE_YEAR\nDISCOVERY_DATE\nDISCOVERY_DOY\nDISCOVERY_TIME\nSTAT_CAUSE_CODE\nSTAT_CAUSE_DESCR\nCONT_DATE\nCONT_DOY\nCONT_TIME\nFIRE_SIZE\nFIRE_SIZE_CLASS\nLATITUDE\nLONGITUDE\nSTATE\nCOUNTY\nFIPS_CODE\nFIPS_NAME\nShape\nMONTH\nDAY\ngeometry\n\n\n\n\n1722247\n1722248\n300000318\nFS-1527910\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n241\n1-157\nJGK4\nNone\nNone\nNone\nNone\n2014\n2014-11-10\n314\n10:00:00\n9.0\nMiscellaneous\n2456971.5\n314.0\n1049\n0.1\nA\n43.787778\n-121.116667\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\xb8\\x0b{wwG^\\xc0\\xd...\n11\n10\nPOINT (-121.11667 43.78778)\n\n\n1722248\n1722249\n300000319\nFS-1527911\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n242\n1-158\nJG4Y\nNone\nNone\nNone\nNone\n2014\n2014-12-15\n349\n11:00:00\n9.0\nMiscellaneous\n2457006.5\n349.0\n1201\n0.1\nA\n43.820000\n-121.321667\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00&lt;\\xf7\\xcc/\\x96T^\\xc0...\n12\n15\nPOINT (-121.32167 43.82000)\n\n\n1722249\n1722250\n300000320\nFS-1527906\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n136\n1-086\nEK2A\nNone\nNone\nNone\nNone\n2014\n2014-07-29\n210\n18:00:00\n1.0\nLightning\n2456867.5\n210.0\n1935\n0.1\nA\n43.397778\n-121.218611\nOR\nLake\n037\nLake\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\x80\\xffs\\xb9\\xfdM^\\...\n7\n29\nPOINT (-121.21861 43.39778)\n\n\n1722250\n1722251\n300000321\nFS-1527907\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n232\n1-149\nJFC6\nNone\nNone\nNone\nNone\n2014\n2014-10-04\n277\n13:00:00\n9.0\nMiscellaneous\n2456936.5\n279.0\n1749\n17.0\nC\n43.652778\n-120.971111\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\xdc\\x8e6\\xaf&&gt;^\\xc0...\n10\n4\nPOINT (-120.97111 43.65278)\n\n\n1722251\n1722252\n300000322\nFS-1525770\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n007\n1-007\nH36G\nNone\nNone\nNone\nNone\n2014\n2014-07-05\n186\n11:00:00\n4.0\nCampfire\n2456843.5\n186.0\n1322\n0.1\nA\n43.485278\n-121.121389\nOR\nLake\n037\nLake\nb'\\x00\\x01\\xad\\x10\\x00\\x00t)\\xe8\\xd5\\xc4G^\\xc0...\n7\n5\nPOINT (-121.12139 43.48528)\n\n\n\n\n\n\n\n\n# Drop rows with NaN values in 'DISCOVERY_DATE' or 'DISCOVERY_TIME'\ndf_OR_year = df_OR_year.dropna(subset=['DISCOVERY_DATE', 'DISCOVERY_TIME'])\n\n# Combine date and time into a new column\ndf_OR_year['DISCOVERY_DATETIME'] = pd.to_datetime(df_OR_year['DISCOVERY_DATE'] + ' ' + df_OR_year['DISCOVERY_TIME'], format='%Y-%m-%d %H:%M:%S')\ndf_OR_year.head()\n\n\n\n\n\n\n\n\nOBJECTID\nFOD_ID\nFPA_ID\nSOURCE_SYSTEM_TYPE\nSOURCE_SYSTEM\nSOURCE_REPORTING_UNIT\nSOURCE_REPORTING_UNIT_NAME\nLOCAL_FIRE_REPORT_ID\nLOCAL_INCIDENT_ID\nFIRE_CODE\nICS_209_INCIDENT_NUMBER\nICS_209_NAME\nMTBS_ID\nMTBS_FIRE_NAME\nFIRE_YEAR\nDISCOVERY_DATE\nDISCOVERY_DOY\nDISCOVERY_TIME\nSTAT_CAUSE_CODE\nSTAT_CAUSE_DESCR\nCONT_DATE\nCONT_DOY\nCONT_TIME\nFIRE_SIZE\nFIRE_SIZE_CLASS\nLATITUDE\nLONGITUDE\nSTATE\nCOUNTY\nFIPS_CODE\nFIPS_NAME\nShape\nMONTH\nDAY\ngeometry\nDISCOVERY_DATETIME\n\n\n\n\n1722247\n1722248\n300000318\nFS-1527910\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n241\n1-157\nJGK4\nNone\nNone\nNone\nNone\n2014\n2014-11-10\n314\n10:00:00\n9.0\nMiscellaneous\n2456971.5\n314.0\n1049\n0.1\nA\n43.787778\n-121.116667\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\xb8\\x0b{wwG^\\xc0\\xd...\n11\n10\nPOINT (-121.11667 43.78778)\n2014-11-10 10:00:00\n\n\n1722248\n1722249\n300000319\nFS-1527911\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n242\n1-158\nJG4Y\nNone\nNone\nNone\nNone\n2014\n2014-12-15\n349\n11:00:00\n9.0\nMiscellaneous\n2457006.5\n349.0\n1201\n0.1\nA\n43.820000\n-121.321667\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00&lt;\\xf7\\xcc/\\x96T^\\xc0...\n12\n15\nPOINT (-121.32167 43.82000)\n2014-12-15 11:00:00\n\n\n1722249\n1722250\n300000320\nFS-1527906\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n136\n1-086\nEK2A\nNone\nNone\nNone\nNone\n2014\n2014-07-29\n210\n18:00:00\n1.0\nLightning\n2456867.5\n210.0\n1935\n0.1\nA\n43.397778\n-121.218611\nOR\nLake\n037\nLake\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\x80\\xffs\\xb9\\xfdM^\\...\n7\n29\nPOINT (-121.21861 43.39778)\n2014-07-29 18:00:00\n\n\n1722250\n1722251\n300000321\nFS-1527907\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n232\n1-149\nJFC6\nNone\nNone\nNone\nNone\n2014\n2014-10-04\n277\n13:00:00\n9.0\nMiscellaneous\n2456936.5\n279.0\n1749\n17.0\nC\n43.652778\n-120.971111\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\xdc\\x8e6\\xaf&&gt;^\\xc0...\n10\n4\nPOINT (-120.97111 43.65278)\n2014-10-04 13:00:00\n\n\n1722251\n1722252\n300000322\nFS-1525770\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n007\n1-007\nH36G\nNone\nNone\nNone\nNone\n2014\n2014-07-05\n186\n11:00:00\n4.0\nCampfire\n2456843.5\n186.0\n1322\n0.1\nA\n43.485278\n-121.121389\nOR\nLake\n037\nLake\nb'\\x00\\x01\\xad\\x10\\x00\\x00t)\\xe8\\xd5\\xc4G^\\xc0...\n7\n5\nPOINT (-121.12139 43.48528)\n2014-07-05 11:00:00\n\n\n\n\n\n\n\n\ndf_OR_year['DISCOVERY_DATETIME'] = df_OR_year['DISCOVERY_DATETIME'].dt.floor('H')\n#df_OR_year['DISCOVERY_DATETIME'] = df_OR_year['DISCOVERY_DATETIME'].dt.strftime('%Y-%m-%d %H:%M:%S')\n\ndf_OR_year.head()\n\n\n\n\n\n\n\n\nOBJECTID\nFOD_ID\nFPA_ID\nSOURCE_SYSTEM_TYPE\nSOURCE_SYSTEM\nSOURCE_REPORTING_UNIT\nSOURCE_REPORTING_UNIT_NAME\nLOCAL_FIRE_REPORT_ID\nLOCAL_INCIDENT_ID\nFIRE_CODE\nICS_209_INCIDENT_NUMBER\nICS_209_NAME\nMTBS_ID\nMTBS_FIRE_NAME\nFIRE_YEAR\nDISCOVERY_DATE\nDISCOVERY_DOY\nDISCOVERY_TIME\nSTAT_CAUSE_CODE\nSTAT_CAUSE_DESCR\nCONT_DATE\nCONT_DOY\nCONT_TIME\nFIRE_SIZE\nFIRE_SIZE_CLASS\nLATITUDE\nLONGITUDE\nSTATE\nCOUNTY\nFIPS_CODE\nFIPS_NAME\nShape\nMONTH\nDAY\ngeometry\nDISCOVERY_DATETIME\n\n\n\n\n1722247\n1722248\n300000318\nFS-1527910\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n241\n1-157\nJGK4\nNone\nNone\nNone\nNone\n2014\n2014-11-10\n314\n10:00:00\n9.0\nMiscellaneous\n2456971.5\n314.0\n1049\n0.1\nA\n43.787778\n-121.116667\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\xb8\\x0b{wwG^\\xc0\\xd...\n11\n10\nPOINT (-121.11667 43.78778)\n2014-11-10 10:00:00\n\n\n1722248\n1722249\n300000319\nFS-1527911\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n242\n1-158\nJG4Y\nNone\nNone\nNone\nNone\n2014\n2014-12-15\n349\n11:00:00\n9.0\nMiscellaneous\n2457006.5\n349.0\n1201\n0.1\nA\n43.820000\n-121.321667\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00&lt;\\xf7\\xcc/\\x96T^\\xc0...\n12\n15\nPOINT (-121.32167 43.82000)\n2014-12-15 11:00:00\n\n\n1722249\n1722250\n300000320\nFS-1527906\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n136\n1-086\nEK2A\nNone\nNone\nNone\nNone\n2014\n2014-07-29\n210\n18:00:00\n1.0\nLightning\n2456867.5\n210.0\n1935\n0.1\nA\n43.397778\n-121.218611\nOR\nLake\n037\nLake\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\x80\\xffs\\xb9\\xfdM^\\...\n7\n29\nPOINT (-121.21861 43.39778)\n2014-07-29 18:00:00\n\n\n1722250\n1722251\n300000321\nFS-1527907\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n232\n1-149\nJFC6\nNone\nNone\nNone\nNone\n2014\n2014-10-04\n277\n13:00:00\n9.0\nMiscellaneous\n2456936.5\n279.0\n1749\n17.0\nC\n43.652778\n-120.971111\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\xdc\\x8e6\\xaf&&gt;^\\xc0...\n10\n4\nPOINT (-120.97111 43.65278)\n2014-10-04 13:00:00\n\n\n1722251\n1722252\n300000322\nFS-1525770\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n007\n1-007\nH36G\nNone\nNone\nNone\nNone\n2014\n2014-07-05\n186\n11:00:00\n4.0\nCampfire\n2456843.5\n186.0\n1322\n0.1\nA\n43.485278\n-121.121389\nOR\nLake\n037\nLake\nb'\\x00\\x01\\xad\\x10\\x00\\x00t)\\xe8\\xd5\\xc4G^\\xc0...\n7\n5\nPOINT (-121.12139 43.48528)\n2014-07-05 11:00:00\n\n\n\n\n\n\n\n\ncustom_colors = ['#68A33E','#FFFF82','#FB9E60','#A10702', '#0F0326']  # Add your desired hex colors\n\ndf_freq_mon = df_OR.groupby(['MONTH', 'FIRE_YEAR']).size().unstack()\ndf_freq_mon.to_csv(\"wildfireData.csv\")\n# plot monthly frequency of fire events\ncounter_fig = 1\nmon_ticks = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec']\nplt.figure(figsize=[11,5])\nsns.heatmap(df_freq_mon, cmap=custom_colors, linewidth=.2, linecolor=[.9,.9,.9])\nplt.yticks(np.arange(0.5,12.5), labels=mon_ticks, rotation=0, fontsize=12)\nplt.xticks(fontsize=12);\nplt.xlabel('')\nplt.ylabel('Month', fontsize=13)\nplt.title(f'Fig {counter_fig}. Number of fire events in Oregon', fontsize=13)\nplt.tight_layout()\n\n# plot fire frequency by cause and day of year\ncause_by_doy = df_OR.groupby(['STAT_CAUSE_DESCR','DISCOVERY_DOY']).size().unstack()\ncounter_fig +=1\nplt.figure(figsize=[10,5])\nax = sns.heatmap(cause_by_doy,cmap=custom_colors,vmin=0,vmax=500) #'CMRmap_r' &lt;- old color scheme\nplt.xticks(np.arange(0.5,366.5,20), labels=range(1,366,20), rotation=0, fontsize=11)\nplt.yticks(fontsize=11)\nplt.ylabel('Fire Cause', fontsize=12)\nplt.xlabel('Day of year', fontsize=12)\nfor borders in [\"top\",\"right\",\"left\",\"bottom\"]:\n    ax.spines[borders].set_visible(True)\nplt.title(f'Fig {counter_fig}. Distribution of OR fires by cause & day of year')\nplt.tight_layout()"
  },
  {
    "objectID": "analysis/Final_V2.html#download-and-extract-climate-data",
    "href": "analysis/Final_V2.html#download-and-extract-climate-data",
    "title": "Oregon Wildfires",
    "section": "Download and Extract Climate Data",
    "text": "Download and Extract Climate Data\n\nimport os\n\n# Get the user directory within the current environment\nenv_name = 'musa-550-fall-2023'\nenv_user_dir = os.path.join(os.environ['CONDA_PREFIX'], 'envs', env_name)\n\nprint(f\"User directory in {env_name} environment: {env_user_dir}\")\n\nUser directory in musa-550-fall-2023 environment: C:\\Users\\shrey\\mambaforge\\envs\\musa-550-fall-2023\\envs\\musa-550-fall-2023\n\n\n\nimport pandas as pd\nbendWeather_up = pd.read_csv(\"./BendWeather_up.csv\")\n\n\nbendWeather = pd.read_csv(\"./BendWeather.csv\")\n# Function to handle different date formats\ndef convert_date(date_str):\n    formats_to_try = ['%d/%m/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S']  # Add more formats if needed\n    for fmt in formats_to_try:\n        try:\n            return pd.to_datetime(date_str, format=fmt)\n        except ValueError:\n            pass\n    return None  # If none of the formats match\nbendWeather['interval60'] = pd.to_datetime(bendWeather['interval60'], format='%m/%d/%Y %H:%M')\nbendWeather['Day'] = bendWeather['interval60'].dt.day\nbendWeather['Month'] = bendWeather['interval60'].dt.month\nbendWeather['Year'] = bendWeather['interval60'].dt.year\nbendWeather['Hour'] = bendWeather['interval60'].dt.hour\n\nbendWeather.head(10)\n\n\n\n\n\n\n\n\ninterval60\nTemperature\nPrecipitation\nWind_Speed\nDew_Point_Temp\nDay\nMonth\nYear\nHour\n\n\n\n\n0\n2020-01-01 00:00:00\n46.4\n0.02\n15\n41.0\n1\n1\n2020\n0\n\n\n1\n2020-01-01 01:00:00\n44.6\n0.01\n14\n41.0\n1\n1\n2020\n1\n\n\n2\n2020-01-01 02:00:00\n44.6\n0.01\n18\n41.0\n1\n1\n2020\n2\n\n\n3\n2020-01-01 03:00:00\n44.6\n0.00\n15\n41.0\n1\n1\n2020\n3\n\n\n4\n2020-01-01 04:00:00\n44.6\n0.00\n12\n41.0\n1\n1\n2020\n4\n\n\n5\n2020-01-01 05:00:00\n46.4\n0.00\n13\n41.0\n1\n1\n2020\n5\n\n\n6\n2020-01-01 06:00:00\n46.4\n0.00\n14\n41.0\n1\n1\n2020\n6\n\n\n7\n2020-01-01 07:00:00\n46.4\n0.00\n6\n39.2\n1\n1\n2020\n7\n\n\n8\n2020-01-01 08:00:00\n46.4\n0.00\n8\n37.4\n1\n1\n2020\n8\n\n\n9\n2020-01-01 09:00:00\n46.4\n0.00\n10\n35.6\n1\n1\n2020\n9"
  },
  {
    "objectID": "analysis/Final_V2.html#analyzing-weather-patterns",
    "href": "analysis/Final_V2.html#analyzing-weather-patterns",
    "title": "Oregon Wildfires",
    "section": "Analyzing Weather Patterns",
    "text": "Analyzing Weather Patterns\n\nalt.data_transformers.enable(\"vegafusion\")\nalt.Chart(bendWeather).mark_tick().encode(\n    alt.X('Precipitation')\n)\n\n\n\n\n\n\n\n\n# Annual Temperature\ndf_freq_mon = bendWeather.groupby(['Month', 'Temperature']).size().unstack()\n# plot monthly frequency of fire events\ncounter_fig = 3\nmon_ticks = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec']\nplt.figure(figsize=[11,5])\nsns.heatmap(df_freq_mon, cmap=custom_colors, linewidth=.01, linecolor=[.9,.9,.9])\nplt.yticks(np.arange(0.5,12.5), labels=mon_ticks, rotation=0, fontsize=12)\nplt.xticks(fontsize=12);\nplt.xlabel('')\nplt.ylabel('Month', fontsize=13)\nplt.title(f'Fig {counter_fig}. Annual Temperature Changes in Oregon', fontsize=13)\nplt.tight_layout()\n\n\n\n\n\nPatterns in Wind Speed\n\n# Annual Patterns in Wind Speed\ndf_freq_mon = bendWeather.groupby(['Month', 'Wind_Speed']).size().unstack()\n# plot monthly frequency of fire events\ncounter_fig = 3\nmon_ticks = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec']\nplt.figure(figsize=[11,5])\nsns.heatmap(df_freq_mon, cmap=custom_colors, linewidth=.01, linecolor=[.9,.9,.9])\nplt.yticks(np.arange(0.5,12.5), labels=mon_ticks, rotation=0, fontsize=12)\nplt.xticks(fontsize=12);\nplt.xlabel('')\nplt.ylabel('Month', fontsize=13)\nplt.title(f'Fig {counter_fig}. Annual Precipitation Patterns in Oregon', fontsize=13)\nplt.tight_layout()\n#plt.savefig(f'../Figures/Fig{counter_fig}.png', format='png', dpi=200)\n\n\n\n\n\nbendWeather_up.head()\n\n\n\n\n\n\n\n\ninterval60\nTemperature\nPrecipitation\nWind_Speed\nDew_Point_Temp\n\n\n\n\n0\n2014-01-01\n37.4\n0.0\n8\n23.0\n\n\n1\n2014-01-01 01:00:00\n35.6\n0.0\n5\n23.0\n\n\n2\n2014-01-01 02:00:00\n33.8\n0.0\n5\n23.0\n\n\n3\n2014-01-01 03:00:00\n32.0\n0.0\n6\n24.8\n\n\n4\n2014-01-01 04:00:00\n32.0\n0.0\n7\n23.0\n\n\n\n\n\n\n\n\nbendWeather_up = bendWeather_up[bendWeather_up['interval60'].str.len() &gt; 10]\nbendWeather_up['interval60'] = pd.to_datetime(bendWeather_up['interval60'], format='%Y-%m-%d %H:%M:%S')\n\n\nbendWeather_up.head(20)\n\n\n\n\n\n\n\n\ninterval60\nTemperature\nPrecipitation\nWind_Speed\nDew_Point_Temp\n\n\n\n\n1\n2014-01-01 01:00:00\n35.6\n0.0\n5\n23.0\n\n\n2\n2014-01-01 02:00:00\n33.8\n0.0\n5\n23.0\n\n\n3\n2014-01-01 03:00:00\n32.0\n0.0\n6\n24.8\n\n\n4\n2014-01-01 04:00:00\n32.0\n0.0\n7\n23.0\n\n\n5\n2014-01-01 05:00:00\n32.0\n0.0\n7\n23.0\n\n\n6\n2014-01-01 06:00:00\n32.0\n0.0\n6\n23.0\n\n\n7\n2014-01-01 07:00:00\n28.4\n0.0\n5\n24.8\n\n\n8\n2014-01-01 08:00:00\n28.4\n0.0\n6\n23.0\n\n\n9\n2014-01-01 09:00:00\n28.4\n0.0\n5\n23.0\n\n\n10\n2014-01-01 10:00:00\n32.0\n0.0\n6\n24.8\n\n\n11\n2014-01-01 11:00:00\n35.6\n0.0\n4\n26.6\n\n\n12\n2014-01-01 12:00:00\n39.2\n0.0\n4\n28.4\n\n\n13\n2014-01-01 13:00:00\n44.6\n0.0\n0\n30.2\n\n\n14\n2014-01-01 14:00:00\n48.2\n0.0\n0\n32.0\n\n\n15\n2014-01-01 15:00:00\n50.0\n0.0\n0\n32.0\n\n\n16\n2014-01-01 16:00:00\n50.0\n0.0\n4\n32.0\n\n\n17\n2014-01-01 17:00:00\n50.0\n0.0\n3\n32.0\n\n\n18\n2014-01-01 18:00:00\n46.4\n0.0\n4\n32.0\n\n\n19\n2014-01-01 19:00:00\n39.2\n0.0\n0\n30.2\n\n\n20\n2014-01-01 20:00:00\n32.0\n0.0\n0\n26.6\n\n\n\n\n\n\n\n\nmerged_df = pd.merge(df_OR_year, bendWeather_up, left_on='DISCOVERY_DATETIME', right_on='interval60', how='inner')\n\n\nmerged_df.head()\n\n\n\n\n\n\n\n\nOBJECTID\nFOD_ID\nFPA_ID\nSOURCE_SYSTEM_TYPE\nSOURCE_SYSTEM\nSOURCE_REPORTING_UNIT\nSOURCE_REPORTING_UNIT_NAME\nLOCAL_FIRE_REPORT_ID\nLOCAL_INCIDENT_ID\nFIRE_CODE\nICS_209_INCIDENT_NUMBER\nICS_209_NAME\nMTBS_ID\nMTBS_FIRE_NAME\nFIRE_YEAR\nDISCOVERY_DATE\nDISCOVERY_DOY\nDISCOVERY_TIME\nSTAT_CAUSE_CODE\nSTAT_CAUSE_DESCR\nCONT_DATE\nCONT_DOY\nCONT_TIME\nFIRE_SIZE\nFIRE_SIZE_CLASS\nLATITUDE\nLONGITUDE\nSTATE\nCOUNTY\nFIPS_CODE\nFIPS_NAME\nShape\nMONTH\nDAY\ngeometry\nDISCOVERY_DATETIME\ninterval60\nTemperature\nPrecipitation\nWind_Speed\nDew_Point_Temp\n\n\n\n\n0\n1722248\n300000318\nFS-1527910\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n241\n1-157\nJGK4\nNone\nNone\nNone\nNone\n2014\n2014-11-10\n314\n10:00:00\n9.0\nMiscellaneous\n2456971.5\n314.0\n1049\n0.1\nA\n43.787778\n-121.116667\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\xb8\\x0b{wwG^\\xc0\\xd...\n11\n10\nPOINT (-121.11667 43.78778)\n2014-11-10 10:00:00\n2014-11-10 10:00:00\n37.4\n0.0\n3\n28.4\n\n\n1\n1722249\n300000319\nFS-1527911\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n242\n1-158\nJG4Y\nNone\nNone\nNone\nNone\n2014\n2014-12-15\n349\n11:00:00\n9.0\nMiscellaneous\n2457006.5\n349.0\n1201\n0.1\nA\n43.820000\n-121.321667\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00&lt;\\xf7\\xcc/\\x96T^\\xc0...\n12\n15\nPOINT (-121.32167 43.82000)\n2014-12-15 11:00:00\n2014-12-15 11:00:00\n28.4\n0.0\n0\n26.6\n\n\n2\n1722250\n300000320\nFS-1527906\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n136\n1-086\nEK2A\nNone\nNone\nNone\nNone\n2014\n2014-07-29\n210\n18:00:00\n1.0\nLightning\n2456867.5\n210.0\n1935\n0.1\nA\n43.397778\n-121.218611\nOR\nLake\n037\nLake\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\x80\\xffs\\xb9\\xfdM^\\...\n7\n29\nPOINT (-121.21861 43.39778)\n2014-07-29 18:00:00\n2014-07-29 18:00:00\n86.0\n0.0\n12\n46.4\n\n\n3\n1722273\n300000343\nFS-1525819\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n166\n1-107\nEK2A\nNone\nNone\nNone\nNone\n2014\n2014-07-29\n210\n18:00:00\n1.0\nLightning\n2456867.5\n210.0\n2005\n0.1\nA\n43.986389\n-121.586389\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00hRDe\\x87e^\\xc0\\x10\\x...\n7\n29\nPOINT (-121.58639 43.98639)\n2014-07-29 18:00:00\n2014-07-29 18:00:00\n86.0\n0.0\n12\n46.4\n\n\n4\n1722328\n300000398\nFS-1525181\nFED\nFS-FIRESTAT\n0601\nDeschutes National Forest\n134\n1-084\nEK2A\nNone\nNone\nNone\nNone\n2014\n2014-07-29\n210\n18:00:00\n1.0\nLightning\n2456868.5\n211.0\n1300\n0.3\nB\n44.028889\n-121.605556\nOR\nDeschutes\n017\nDeschutes\nb'\\x00\\x01\\xad\\x10\\x00\\x00\\x18\\x87\\x1bl\\xc1f^\\...\n7\n29\nPOINT (-121.60556 44.02889)\n2014-07-29 18:00:00\n2014-07-29 18:00:00\n86.0\n0.0\n12\n46.4\n\n\n\n\n\n\n\n\nmerged_df.to_csv('OR_year.csv', index=False)"
  },
  {
    "objectID": "analysis/index.html",
    "href": "analysis/index.html",
    "title": "Analysis",
    "section": "",
    "text": "Analysis\nWildfires, a phenomenon where an uncontrolled fire that burns in the wildland vegetation, has been a growing concern in the US in recent years, largely related to climate change fears. For our final project, we explore instances of wildfires across the United States, focusing on Oregon as a case study. As wildfires become increasingly common, it is crucial to equip policy-makers and first responders with tools to help better predict areas that are most likely to set ablaze across the State."
  },
  {
    "objectID": "analysis/US_Dashboard.html",
    "href": "analysis/US_Dashboard.html",
    "title": "US Wildfires Dashboard",
    "section": "",
    "text": "import datetime\nfrom jdcal import jd2gcal\nfrom matplotlib import gridspec\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport sqlite3\nimport xarray as xr\nimport geopandas as gpd\nfrom matplotlib import pyplot as plt\n\nimport cdsapi\nimport sklearn_pandas as skp\nimport plotly.express as px\nfrom sklearn.preprocessing import MinMaxScaler\nimport altair as alt\nfrom vega_datasets import data\nimport folium\nfrom folium.plugins import MarkerCluster\n\ncustom_colors = ['#68A33E', '#A10702', '#FB9E60', '#FFFF82', '#0F0326']"
  },
  {
    "objectID": "analysis/US_Dashboard.html#load-in-raw-data",
    "href": "analysis/US_Dashboard.html#load-in-raw-data",
    "title": "US Wildfires Dashboard",
    "section": "Load in Raw Data",
    "text": "Load in Raw Data\n\ninput_filename = './FPA_FOD_20170508.sqlite'\nconn = sqlite3.connect(input_filename)\nquery = '''\n    SELECT\n        NWCG_REPORTING_AGENCY, NWCG_REPORTING_UNIT_ID,\n        NWCG_REPORTING_UNIT_NAME,\n        FIRE_NAME,\n        COMPLEX_NAME,\n        FIRE_YEAR,\n        DISCOVERY_DATE,\n        DISCOVERY_DOY,\n        DISCOVERY_TIME,\n        CONT_DATE,\n        CONT_DOY,\n        CONT_TIME,\n        FIRE_SIZE,\n        FIRE_SIZE_CLASS,\n        OWNER_CODE,\n        OWNER_DESCR,\n        LATITUDE,\n        LONGITUDE,\n        STATE,\n        COUNTY\n    FROM\n        Fires;\n'''\ndf_raw = pd.read_sql_query(query, conn)\ndf_raw.info()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 1880465 entries, 0 to 1880464\nData columns (total 20 columns):\n #   Column                    Dtype  \n---  ------                    -----  \n 0   NWCG_REPORTING_AGENCY     object \n 1   NWCG_REPORTING_UNIT_ID    object \n 2   NWCG_REPORTING_UNIT_NAME  object \n 3   FIRE_NAME                 object \n 4   COMPLEX_NAME              object \n 5   FIRE_YEAR                 int64  \n 6   DISCOVERY_DATE            float64\n 7   DISCOVERY_DOY             int64  \n 8   DISCOVERY_TIME            object \n 9   CONT_DATE                 float64\n 10  CONT_DOY                  float64\n 11  CONT_TIME                 object \n 12  FIRE_SIZE                 float64\n 13  FIRE_SIZE_CLASS           object \n 14  OWNER_CODE                float64\n 15  OWNER_DESCR               object \n 16  LATITUDE                  float64\n 17  LONGITUDE                 float64\n 18  STATE                     object \n 19  COUNTY                    object \ndtypes: float64(7), int64(2), object(11)\nmemory usage: 286.9+ MB\n\n\n\ninput_filename = './FPA_FOD_20170508.sqlite'\nconn = sqlite3.connect(input_filename)\nquery = '''\n    SELECT\n       *\n    FROM\n        Fires;\n'''\ndf_raw = pd.read_sql_query(query, conn)\ndf_raw.info()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 1880465 entries, 0 to 1880464\nData columns (total 39 columns):\n #   Column                      Dtype  \n---  ------                      -----  \n 0   OBJECTID                    int64  \n 1   FOD_ID                      int64  \n 2   FPA_ID                      object \n 3   SOURCE_SYSTEM_TYPE          object \n 4   SOURCE_SYSTEM               object \n 5   NWCG_REPORTING_AGENCY       object \n 6   NWCG_REPORTING_UNIT_ID      object \n 7   NWCG_REPORTING_UNIT_NAME    object \n 8   SOURCE_REPORTING_UNIT       object \n 9   SOURCE_REPORTING_UNIT_NAME  object \n 10  LOCAL_FIRE_REPORT_ID        object \n 11  LOCAL_INCIDENT_ID           object \n 12  FIRE_CODE                   object \n 13  FIRE_NAME                   object \n 14  ICS_209_INCIDENT_NUMBER     object \n 15  ICS_209_NAME                object \n 16  MTBS_ID                     object \n 17  MTBS_FIRE_NAME              object \n 18  COMPLEX_NAME                object \n 19  FIRE_YEAR                   int64  \n 20  DISCOVERY_DATE              float64\n 21  DISCOVERY_DOY               int64  \n 22  DISCOVERY_TIME              object \n 23  STAT_CAUSE_CODE             float64\n 24  STAT_CAUSE_DESCR            object \n 25  CONT_DATE                   float64\n 26  CONT_DOY                    float64\n 27  CONT_TIME                   object \n 28  FIRE_SIZE                   float64\n 29  FIRE_SIZE_CLASS             object \n 30  LATITUDE                    float64\n 31  LONGITUDE                   float64\n 32  OWNER_CODE                  float64\n 33  OWNER_DESCR                 object \n 34  STATE                       object \n 35  COUNTY                      object \n 36  FIPS_CODE                   object \n 37  FIPS_NAME                   object \n 38  Shape                       object \ndtypes: float64(8), int64(4), object(27)\nmemory usage: 559.5+ MB"
  },
  {
    "objectID": "analysis/US_Dashboard.html#clean-data-and-extract-oregon-boundaries",
    "href": "analysis/US_Dashboard.html#clean-data-and-extract-oregon-boundaries",
    "title": "US Wildfires Dashboard",
    "section": "Clean Data and Extract Oregon Boundaries",
    "text": "Clean Data and Extract Oregon Boundaries\n\ndrop_columns = ['NWCG_REPORTING_AGENCY',\n                'NWCG_REPORTING_UNIT_ID',\n                'NWCG_REPORTING_UNIT_NAME',\n                'FIRE_NAME',\n                'COMPLEX_NAME', \n                'OWNER_DESCR',\n                'OWNER_CODE']\ndf_US= df_raw.drop(columns= drop_columns)\ndf_US['MONTH'] = df_US['DISCOVERY_DATE'].apply(lambda x: jd2gcal(x, 0)[1])\ndf_US['DAY'] = df_US['DISCOVERY_DATE'].apply(lambda x: jd2gcal(x, 0)[2])\n\n\nfrom shapely.geometry import Point\ngeometry = [Point(xy) for xy in zip(df_US['LONGITUDE'], df_US['LATITUDE'])]\ndf_geo = gpd.GeoDataFrame(df_US, geometry=geometry)\ndf_geo.crs = \"EPSG:4326\"\n\n\nstates = alt.topo_feature(data.us_10m.url, feature='states')\nus_states = gpd.read_file(\"./cb_2018_us_state_500k/cb_2018_us_state_500k.shp\")\nstates_us = gpd.read_file(\"./states.json\")\ndf_grouped = df_geo.groupby(['STATE'], as_index=False).agg({'LATITUDE': 'mean', 'LONGITUDE': 'mean', 'FIRE_SIZE': 'sum' })\nus_states_geojson = 'states.json' \n\n\nm = folium.Map(location=[40, -95], zoom_start=4)\n\nfolium.GeoJson(\n    us_states_geojson,\n    name='geojson'\n).add_to(m)\n\nmarker_cluster = MarkerCluster().add_to(m)\n\n\nfor index, row in df_grouped.iterrows():\n    folium.Marker(\n        location=[row['LATITUDE'], row['LONGITUDE']],\n        popup=f\"State: {row['STATE']}\\nFire Size: {row['FIRE_SIZE']:.2f}\",\n        icon=None,\n    ).add_to(marker_cluster)\n\nm.save('wildfires_map.html')\n\nm\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook"
  },
  {
    "objectID": "analysis/US_wild.html",
    "href": "analysis/US_wild.html",
    "title": "US wildfires",
    "section": "",
    "text": "import datetime\nfrom jdcal import jd2gcal\nfrom matplotlib import gridspec\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport sqlite3\nimport xarray as xr\nimport geopandas as gpd\nfrom matplotlib import pyplot as plt\n\nimport cdsapi\nimport sklearn_pandas as skp\nfrom shapely.geometry import Point\nimport altair as alt\nfrom vega_datasets import data\nimport plotly.express as px\nimport panel as pn\npn.extension('plotly')\n\ncustom_colors = ['#68A33E', '#A10702', '#FB9E60', '#FFFF82', '#0F0326']"
  },
  {
    "objectID": "analysis/US_wild.html#clean-data",
    "href": "analysis/US_wild.html#clean-data",
    "title": "US wildfires",
    "section": "Clean Data",
    "text": "Clean Data\n\ndrop_columns = ['NWCG_REPORTING_AGENCY',\n                'NWCG_REPORTING_UNIT_ID',\n                'NWCG_REPORTING_UNIT_NAME',\n                'FIRE_NAME',\n                'COMPLEX_NAME', \n                'OWNER_DESCR',\n                'OWNER_CODE']\ndf_US = df_raw.drop(columns= drop_columns)\ndf_US['MONTH'] = df_US['DISCOVERY_DATE'].apply(lambda x: jd2gcal(x, 0)[1])\ndf_US['DAY'] = df_US['DISCOVERY_DATE'].apply(lambda x: jd2gcal(x, 0)[2])\n\n\ngeometry = [Point(xy) for xy in zip(df_US['LONGITUDE'], df_US['LATITUDE'])]\ndf_geo = gpd.GeoDataFrame(df_US, geometry=geometry)\ndf_geo.crs = \"EPSG:4326\"\n\n\nstates = alt.topo_feature(data.us_10m.url, feature='states')\nus_states = gpd.read_file(\"cb_2018_us_state_500k/cb_2018_us_state_500k.shp\")\nus_states_geojson = 'states.json' \n\n\nimport plotly.express as px\nimport geopandas as gpd\nfrom sklearn.preprocessing import MinMaxScaler\n\n\ndf_grouped = df_geo.groupby(['STATE'], as_index=False).agg({'LATITUDE': 'mean', 'LONGITUDE': 'mean', 'FIRE_SIZE': 'sum' })\n\n\nscaler = MinMaxScaler(feature_range=(1, 10))\ndf_grouped['markersize'] = scaler.fit_transform(df_grouped[['FIRE_SIZE']])\n\n\nimport panel as pn\npn.extension('plotly')\ndef create_dashboard():\n    # Create a scatter_geo figure\n    fig = px.scatter_geo(\n        df_grouped,\n        locations='STATE',\n        locationmode='USA-states',\n        color='FIRE_SIZE',\n        size='markersize',\n        hover_name='STATE',\n        projection='natural earth',\n        title='Wildfires in US States',\n        template='plotly',\n    )\n\n    # Update geos settings\n    fig.update_geos(\n        center=dict(lon=-100, lat=40),\n        projection_scale=2,\n        showcoastlines=True,\n        coastlinecolor='black',\n        showsubunits=True,\n        subunitcolor='black',\n        subunitwidth=2,\n        landcolor='darkgrey',\n        showocean=True,\n        oceancolor='azure',\n    )\n\n    return pn.pane.Plotly(fig)\n\n# Create the Panel app\napp = pn.Column(\"## Wildfires Dashboard\", create_dashboard)\n\n# Display the app\napp.servable()\n\n\n\n\n\n\n\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\n\n  \n\n\n\n\nTo begin investigating trends in wildfires across Oregon, it is important to first consider the larger national perspective. The map above details the total acreage burned in each state. Overall, Alaska far surpasses any other state, while California and Idaho show the highest amount burned in the continental US. These trends are expected, however, as these states are larger than others seen throughout the country, particularly along the midwest and eastern coast. To learn more, hover over each state to explore details including the amount of area burned. (Please look at the hyperlinked figure; sometimes the panel and html don’t render correctly)."
  },
  {
    "objectID": "analysis/US_wild.html#fire-cause-by-state",
    "href": "analysis/US_wild.html#fire-cause-by-state",
    "title": "US wildfires",
    "section": "Fire cause by state",
    "text": "Fire cause by state\n\ndf_viz = df_geo.groupby(['STATE', 'STAT_CAUSE_DESCR']).size().reset_index(name='Number_of_Fires')\n\nchart = alt.Chart(df_viz).mark_bar().encode(\n    x='sum(Number_of_Fires):Q',\n    y=alt.Y('STATE:N', sort='-x'),\n    color='STAT_CAUSE_DESCR:N',\n    tooltip=['STATE:N', 'STAT_CAUSE_DESCR:N', 'sum(Number_of_Fires):Q']\n).interactive()\n\nchart"
  },
  {
    "objectID": "analysis/US_wild.html#monthlyseasonaly-fire-frequency",
    "href": "analysis/US_wild.html#monthlyseasonaly-fire-frequency",
    "title": "US wildfires",
    "section": "Monthly/Seasonaly fire frequency",
    "text": "Monthly/Seasonaly fire frequency\n\ncustom_colors = ['#68A33E','#FFFF82','#FB9E60','#A10702', '#0F0326']  # Add your desired hex colors\ndf_freq_mon = df_geo.groupby(['MONTH', 'FIRE_YEAR']).size().unstack()\ndf_freq_mon.to_csv(\"wildfireDataUS.csv\")\n# plot monthly frequency of fire events\ncounter_fig = 1\nmon_ticks = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec']\nplt.figure(figsize=[11,5])\nsns.heatmap(df_freq_mon, cmap=custom_colors, linewidth=.2, linecolor=[.9,.9,.9])\nplt.yticks(np.arange(0.5,12.5), labels=mon_ticks, rotation=0, fontsize=12)\nplt.xticks(fontsize=12);\nplt.xlabel('')\nplt.ylabel('Month', fontsize=13)\nplt.title(f'Fig {counter_fig}. Number of fire events in US', fontsize=13)\nplt.tight_layout()\n\n\n\n\nThe visualization above shows spread of recorded wildfires across the year, with the darker colors indicating more instances of wildfire. Across the last 24 years, late spring and late summer saw the most burning, with a period of increased fires during the spring of 2006. On average, less than 8,000 fires burn per month across the US - however, certain months tend to tell another story, where more than 16,000 burned in the same time period. There appears to be a slight dip in fires during the early summer months of May and June.\n\n# plot fire frequency by cause and day of year\ncause_by_doy = df_geo.groupby(['STAT_CAUSE_DESCR','DISCOVERY_DOY']).size().unstack()\ncounter_fig +=1\nplt.figure(figsize=[10,5])\nax = sns.heatmap(cause_by_doy,cmap=custom_colors,vmin=0,vmax=500) #'CMRmap_r' &lt;- old color scheme\nplt.xticks(np.arange(0.5,366.5,20), labels=range(1,366,20), rotation=0, fontsize=11)\nplt.yticks(fontsize=11)\nplt.ylabel('Fire Cause', fontsize=12)\nplt.xlabel('Day of year', fontsize=12)\nfor borders in [\"top\",\"right\",\"left\",\"bottom\"]:\n    ax.spines[borders].set_visible(True)\nplt.title(f'Fig {counter_fig}. Distribution of US fires by cause & day of year')\nplt.tight_layout()\n\n\n\n\nNext, we observe which activities are the most likely causes of wildfires across the country depending on the time of year. According to the visualization above, arson, debris burning, and other mixed causes are commonplace throughout the year, while other common reasons tend to spike in specific seasons. For example, lightning strikes and equipment use are common causes during the summertime, when summer storms bring seasonal spikes in thundering clouds, and when people are more likely to get outside and run types of equipment that have the ability to catch ablaze. An interesting observation lies in the missing and undefined category, which is most likely to be recorded in the first half of the year."
  },
  {
    "objectID": "analysis/US_wild.html#causes-by-year",
    "href": "analysis/US_wild.html#causes-by-year",
    "title": "US wildfires",
    "section": "Causes by year",
    "text": "Causes by year\n\nfig_q = px.sunburst(df_geo, path=['FIRE_YEAR', 'MONTH', 'STAT_CAUSE_DESCR'], title='Main Causes of Fire by Month and Year')\nfig_q.update_layout(margin=dict(l=0, r=0, b=0, t=40))  # Adjust layout if needed\n\n# Save the figure as an HTML file\nfig_q.write_html(\"sunburst_chart.html\")\n\n\n\nFinally, we observe trends in common causes of wildfires by year. To interact with the visualization, select a year from the center of the wheel. The information becomes increasingly detailed as the wheel is explored outwards."
  },
  {
    "objectID": "analysis/US_wildfires.html#monthlyseasonaly-fire-frequency",
    "href": "analysis/US_wildfires.html#monthlyseasonaly-fire-frequency",
    "title": "Oregon Wildfire Prediction",
    "section": "Monthly/Seasonaly fire frequency",
    "text": "Monthly/Seasonaly fire frequency\n\ncustom_colors = ['#68A33E','#FFFF82','#FB9E60','#A10702', '#0F0326']  # Add your desired hex colors\ndf_freq_mon = df_geo.groupby(['MONTH', 'FIRE_YEAR']).size().unstack()\ndf_freq_mon.to_csv(\"wildfireDataUS.csv\")\n# plot monthly frequency of fire events\ncounter_fig = 1\nmon_ticks = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec']\nplt.figure(figsize=[11,5])\nsns.heatmap(df_freq_mon, cmap=custom_colors, linewidth=.2, linecolor=[.9,.9,.9])\nplt.yticks(np.arange(0.5,12.5), labels=mon_ticks, rotation=0, fontsize=12)\nplt.xticks(fontsize=12);\nplt.xlabel('')\nplt.ylabel('Month', fontsize=13)\nplt.title(f'Fig {counter_fig}. Number of fire events in US', fontsize=13)\nplt.tight_layout()\n\n# plot fire frequency by cause and day of year\ncause_by_doy = df_geo.groupby(['STAT_CAUSE_DESCR','DISCOVERY_DOY']).size().unstack()\ncounter_fig +=1\nplt.figure(figsize=[10,5])\nax = sns.heatmap(cause_by_doy,cmap=custom_colors,vmin=0,vmax=500) #'CMRmap_r' &lt;- old color scheme\nplt.xticks(np.arange(0.5,366.5,20), labels=range(1,366,20), rotation=0, fontsize=11)\nplt.yticks(fontsize=11)\nplt.ylabel('Fire Cause', fontsize=12)\nplt.xlabel('Day of year', fontsize=12)\nfor borders in [\"top\",\"right\",\"left\",\"bottom\"]:\n    ax.spines[borders].set_visible(True)\nplt.title(f'Fig {counter_fig}. Distribution of US fires by cause & day of year')\nplt.tight_layout()\n\n\n\n\n\n\n\n\nimport plotly.express as px\n# Create a sunburst chart showing the main causes of fire for a given month and year\nfig = px.sunburst(df_geo, path=['FIRE_YEAR', 'MONTH', 'STAT_CAUSE_DESCR'], title='Main Causes of Fire by Month and Year')\nfig.update_layout(margin=dict(l=0, r=0, b=0, t=40))  # Adjust layout if needed\nfig.show()"
  },
  {
    "objectID": "analysis/US_wildfires_new.html#fire-cause-by-state",
    "href": "analysis/US_wildfires_new.html#fire-cause-by-state",
    "title": "Oregon Wildfire Prediction",
    "section": "Fire cause by state",
    "text": "Fire cause by state\n\ndf_viz = df_geo.groupby(['STATE', 'STAT_CAUSE_DESCR']).size().reset_index(name='Number_of_Fires')\n\nchart = alt.Chart(df_viz).mark_bar().encode(\n    x='sum(Number_of_Fires):Q',\n    y=alt.Y('STATE:N', sort='-x'),\n    color='STAT_CAUSE_DESCR:N',\n    tooltip=['STATE:N', 'STAT_CAUSE_DESCR:N', 'sum(Number_of_Fires):Q']\n).interactive()\n\nchart"
  },
  {
    "objectID": "analysis/US_wildfires_new.html#monthlyseasonaly-fire-frequency",
    "href": "analysis/US_wildfires_new.html#monthlyseasonaly-fire-frequency",
    "title": "Oregon Wildfire Prediction",
    "section": "Monthly/Seasonaly fire frequency",
    "text": "Monthly/Seasonaly fire frequency\n\ncustom_colors = ['#68A33E','#FFFF82','#FB9E60','#A10702', '#0F0326']  # Add your desired hex colors\ndf_freq_mon = df_geo.groupby(['MONTH', 'FIRE_YEAR']).size().unstack()\ndf_freq_mon.to_csv(\"wildfireDataUS.csv\")\n# plot monthly frequency of fire events\ncounter_fig = 1\nmon_ticks = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec']\nplt.figure(figsize=[11,5])\nsns.heatmap(df_freq_mon, cmap=custom_colors, linewidth=.2, linecolor=[.9,.9,.9])\nplt.yticks(np.arange(0.5,12.5), labels=mon_ticks, rotation=0, fontsize=12)\nplt.xticks(fontsize=12);\nplt.xlabel('')\nplt.ylabel('Month', fontsize=13)\nplt.title(f'Fig {counter_fig}. Number of fire events in US', fontsize=13)\nplt.tight_layout()\n\n# plot fire frequency by cause and day of year\ncause_by_doy = df_geo.groupby(['STAT_CAUSE_DESCR','DISCOVERY_DOY']).size().unstack()\ncounter_fig +=1\nplt.figure(figsize=[10,5])\nax = sns.heatmap(cause_by_doy,cmap=custom_colors,vmin=0,vmax=500) #'CMRmap_r' &lt;- old color scheme\nplt.xticks(np.arange(0.5,366.5,20), labels=range(1,366,20), rotation=0, fontsize=11)\nplt.yticks(fontsize=11)\nplt.ylabel('Fire Cause', fontsize=12)\nplt.xlabel('Day of year', fontsize=12)\nfor borders in [\"top\",\"right\",\"left\",\"bottom\"]:\n    ax.spines[borders].set_visible(True)\nplt.title(f'Fig {counter_fig}. Distribution of US fires by cause & day of year')\nplt.tight_layout()\n\n\n\n\n\n\n\n\nfig = px.sunburst(df_geo, path=['FIRE_YEAR', 'MONTH', 'STAT_CAUSE_DESCR'], title='Main Causes of Fire by Month and Year')\nfig.update_layout(margin=dict(l=0, r=0, b=0, t=40))  # Adjust layout if needed\nfig.show()"
  }
]